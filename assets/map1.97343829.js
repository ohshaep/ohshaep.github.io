import{z as C,A as S,bf as B,r as n,aO as A,o as f,c as x,d as t,w as i,f as s,F,W as N,i as V,e as D,t as d,a8 as W,a9 as E,bD as L,b1 as P,y as R,M as Z,N as j,O as G}from"./index.192c8708.js";const p=o=>(j("data-v-7f7286bc"),o=o(),G(),o),$={class:"maps"},q={class:"type-box"},H={class:"search-box"},J={class:"info"},K=p(()=>s("div",{class:"info-top"},"\u5DE5\u5177\u7BB1",-1)),Q={class:"item-box dis-center-between",style:{"padding-top":"6px"}},X=p(()=>s("span",{class:"infoTitle"},"\u6D4B\u8DDD",-1)),Y={class:"item-box dis-center-between"},ee=p(()=>s("span",{class:"infoTitle"},"\u6DFB\u52A0\u8BBE\u65BD",-1)),ae={class:"item-box dis-center-between",style:{"padding-bottom":"8px"}},se=p(()=>s("span",{class:"infoTitle"},"\u79FB\u52A8\u8BBE\u65BD",-1)),le={__name:"map1",setup(o){S({lng:"",lat:"",address:"",adcode:""});const r=S({lng:null,lat:null,detailAddress:""}),g=B(null),c=n(null),h=n(!1),k=n(!1),T=n([{value:-1,label:"\u5168\u90E8"},{value:0,label:"\u5149\u4EA4\u7BB1"},{value:1,label:"odf\u67B6"},{value:2,label:"\u5149\u7EA4\u7EC8\u7AEF\u76D2"},{value:2,label:"\u7194\u63A5\u5305"}]);n([{value:[121.20261,31.06125],type:0,number:"112312",name:"\u5149\u4EA4\u7BB11",name2:"\u65B0\u6865",address:"\u65B0\u6865"},{value:[121.28468,31.08859],type:0,number:"665977",name:"\u5149\u4EA4\u7BB12",name2:"\u65B0\u68651",address:"\u65B0\u68651"}]),n([{value:[121.23674,30.98917],type:1,number:"668978",name:"odf\u67B61",name2:"\u677E\u6C5F\u5357",address:"\u677E\u6C5F\u5357"},{value:[121.21771,30.99077],type:1,number:"567457",name:"odf\u67B62",name2:"\u677E\u6C5F\u5357",address:"\u677E\u6C5F\u5357"}]);const w=n(!1),y=n(!1),u=n(-1),M=n(null),I=()=>{g.value=new AMap.Map(M,{scrollWheel:!0,viewMode:"2D",resizeEnable:!0,zoom:13,maxZoom:30,minZoom:0,center:[121.22989570399066,31.02782839832306]});let l={icon:new AMap.Icon({size:new AMap.Size(19,31),imageSize:new AMap.Size(19,31),image:"https://webapi.amap.com/theme/v1.3/markers/b/start.png"})},e={icon:new AMap.Icon({size:new AMap.Size(19,31),imageSize:new AMap.Size(19,31),image:"https://webapi.amap.com/theme/v1.3/markers/b/end.png"}),offset:new AMap.Pixel(-9,-31)},v={icon:new AMap.Icon({size:new AMap.Size(19,31),imageSize:new AMap.Size(19,31),image:"https://webapi.amap.com/theme/v1.3/markers/b/mid.png"}),offset:new AMap.Pixel(-9,-31)},_={startMarkerOptions:l,midMarkerOptions:v,endMarkerOptions:e,lineOptions:{strokeStyle:"solid",strokeColor:"#FF33FF",strokeOpacity:1,strokeWeight:2}};c.value=new AMap.RangingTool(g,_)};A(u,(l,e)=>{console.log("\u503C\u6539\u53D8\u4E86",l,e),I()},{immediate:!0});const m=n(!1);return A(m,(l,e)=>{console.log("\u503C\u6539\u53D8\u4E86",l,e),l?c.value.turnOn():c.value.turnOff()}),(l,e)=>{const v=W,O=E,_=L,b=P,U=R,z=Z;return f(),x(F,null,[t(U,{class:"main-body-deepen"},{default:i(()=>[s("div",$,[s("div",q,[t(O,{value:u.value,"onUpdate:value":e[0]||(e[0]=a=>u.value=a),class:"m-2",placeholder:"Select",size:"large"},{default:i(()=>[(f(!0),x(F,null,N(T.value,a=>(f(),V(v,{key:a.value,value:a.value},{default:i(()=>[D(d(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),s("div",H,[t(_,{value:l.searchvalue,"onUpdate:value":e[1]||(e[1]=a=>l.searchvalue=a),placeholder:"\u8BF7\u8F93\u5165\u60A8\u8981\u67E5\u8BE2\u7684\u5185\u5BB9","enter-button":"",onSearch:l.onSearch},null,8,["value","onSearch"])]),s("div",J,[K,s("div",Q,[X,t(b,{onChange:e[2]||(e[2]=a=>l.handleTool(a,"range")),size:"small",checked:m.value,"onUpdate:checked":e[3]||(e[3]=a=>m.value=a)},null,8,["checked"])]),s("div",Y,[ee,t(b,{onChange:e[4]||(e[4]=a=>l.handleTool(a,"addFacility")),size:"small",checked:h.value,"onUpdate:checked":e[5]||(e[5]=a=>h.value=a)},null,8,["checked"])]),s("div",ae,[se,t(b,{onChange:e[6]||(e[6]=a=>l.handleTool(a,"moveFacility")),size:"small",checked:k.value,"onUpdate:checked":e[7]||(e[7]=a=>k.value=a)},null,8,["checked"])])]),s("div",{ref_key:"allmap",ref:M,class:"bodymap"},null,512)])]),_:1}),t(z,{visible:w.value,"onUpdate:visible":e[8]||(e[8]=a=>w.value=a),title:"\u6DFB\u52A0\u8BBE\u65BD",onOk:l.handleAddOk},{default:i(()=>[s("div",null,[s("span",null,"\u7ECF\u7EAC\u5EA6\uFF1A "+d(r.lng)+" \xA0\xA0 "+d(r.lat),1)]),s("p",null,d(r.detailAddress),1)]),_:1},8,["visible","onOk"]),t(z,{visible:y.value,"onUpdate:visible":e[9]||(e[9]=a=>y.value=a),title:"\u8BBE\u7F6E\u4FE1\u606F",width:"100%","wrap-class-name":"full-modal"},null,8,["visible"])],64)}}},te=C(le,[["__scopeId","data-v-7f7286bc"]]);export{te as default};
