import{z as J,r as s,aj as P,o as m,c as g,d as a,w as l,e as w,t as b,f as u,F as I,W as U,Q as N,_ as W,a6 as A,n as G,a3 as K,B as X,s as Y,L as Z,x as ee,S as te,N as ae,O as ne}from"./index.192c8708.js";import{g as oe}from"./htMag.881530e9.js";import le from"./CmDetailModal.c9e32a83.js";import"./index.ad48934c.js";import"./common.e897a13c.js";import"./common.0ebad352.js";const $=_=>(ae("data-v-f44ecd1d"),_=_(),ne(),_),ce=$(()=>u("span",{class:"separate"},"/",-1)),se=$(()=>u("span",null,"\u5408\u540C\u5F52\u6863",-1)),ue={class:"app-container"},re={class:"container-wrapper"},de={key:2},ie=["onClick"],pe={__name:"index",setup(_){const k=s(null),L=[{title:"\u5E8F\u53F7",width:60,align:"center",customRender:({text:t,record:e,index:p})=>parseInt(p)+1},{title:"\u5408\u540C\u540D\u79F0",align:"center",dataIndex:"contractName"},{title:"\u5408\u540C\u7F16\u53F7",align:"center",dataIndex:"contractCode"},{title:"\u5408\u540C\u7C7B\u578B",align:"center",dataIndex:"contractType"},{title:"\u5408\u540C\u72B6\u6001",align:"center",dataIndex:"contractStatus"},{title:"\u5408\u540C\u5BA2\u6237",align:"center",dataIndex:"opponentSignedMan"},{title:"\u521B\u5EFA\u65F6\u95F4",align:"center",dataIndex:"createTime",defaultSortOrder:"descend",sortDirections:["descend"],sorter:(t,e)=>t.createTime>e.createTime},{title:"\u64CD\u4F5C",dataIndex:"action",align:"center",fixed:"right",width:200,scopedSlots:{customRender:"action"}}],T=[{value:"1",label:"\u91C7\u8D2D\u5408\u540C"},{value:"2",label:"\u9500\u552E\u5408\u540C"}],z=[{value:"1",label:"\u5F85\u5F52\u6863"},{value:"2",label:"\u5DF2\u5F52\u6863"}],n=s({contractName:"",contractCode:"",contractStatus:void 0,opponentSignedMan:"",contractType:void 0}),c=s({}),f=s(1),S=s(10),i=s({current:1,pageSize:10,pageSizeOptions:["10","20","30","40","100"],total:0,showTotal:t=>`\u5171 ${t} \u6761`,hideOnSinglePage:!1,onChange:(t,e)=>M(t,e),onShowSizeChange:(t,e)=>{M(t,e,"sizeChange")},showSizeChanger:!0,showQuickJumper:!0}),M=(t,e,p)=>{i.value.current=t,p==="sizeChange"&&(i.value.pageSize=e),f.value=t,S.value=e,v()},v=t=>{console.log(c.value,"searchForm"),console.log(f.value,"pageNum"),console.log(S.value,"pageSize"),c.value.pageNum=f.value,c.value.pageSize=S.value,c.value.contractName=n.value.contractName||void 0,c.value.contractCode=n.value.contractCode||void 0,c.value.contractStatus=n.value.contractStatus||void 0,c.value.opponentSignedMan=n.value.opponentSignedMan||void 0,c.value.contractType=n.value.contractType||void 0,O()},y=s(!1),F=s([]),O=async()=>{y.value=!0,console.log(c.value,"aaa");const t=await oe(c.value);t.code===200&&(F.value=t.data.records,i.value.total=t.data.total,y.value=!1)};P(()=>{v()});const R=s(null),V=()=>{c.value={pageNum:1,pageSize:10},i.value.current=1,n.value={},v()},Q=t=>{k.value.showModal(t)};return(t,e)=>{const p=W,h=A,r=G,B=K,D=X,H=Y,j=Z,q=ee,E=te;return m(),g(I,null,[a(p,{title:"\u5408\u540C\u5F52\u6863",icon:"icon-rongqi"},{nav:l(()=>[w(b("\u5408\u540C\u5F52\u6863")+" "),ce,se]),_:1}),u("div",ue,[u("div",re,[a(H,{layout:"inline",ref_key:"searchFormRef",ref:R,model:n.value},{default:l(()=>[a(r,{label:"\u5408\u540C\u540D\u79F0"},{default:l(()=>[a(h,{style:{width:"320px"},placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u540D\u79F0",value:n.value.contractName,"onUpdate:value":e[0]||(e[0]=o=>n.value.contractName=o)},null,8,["value"])]),_:1}),a(r,{label:"\u5408\u540C\u7F16\u53F7"},{default:l(()=>[a(h,{style:{width:"320px"},placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u7F16\u53F7",value:n.value.contractCode,"onUpdate:value":e[1]||(e[1]=o=>n.value.contractCode=o)},null,8,["value"])]),_:1}),a(r,{label:"\u5408\u540C\u72B6\u6001"},{default:l(()=>[a(B,{style:{width:"320px"},placeholder:"\u8BF7\u9009\u62E9\u5408\u540C\u72B6\u6001",value:n.value.contractStatus,"onUpdate:value":e[2]||(e[2]=o=>n.value.contractStatus=o),options:z},null,8,["value"])]),_:1}),a(r,{label:"\u5408\u540C\u5BA2\u6237"},{default:l(()=>[a(h,{style:{width:"320px"},placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u5BA2\u6237",value:n.value.opponentSignedMan,"onUpdate:value":e[3]||(e[3]=o=>n.value.opponentSignedMan=o)},null,8,["value"])]),_:1}),a(r,{label:"\u5408\u540C\u7C7B\u578B"},{default:l(()=>[a(B,{style:{width:"320px"},placeholder:"\u8BF7\u9009\u62E9\u5408\u540C\u7C7B\u578B",value:n.value.contractType,"onUpdate:value":e[4]||(e[4]=o=>n.value.contractType=o),options:T},null,8,["value"])]),_:1}),a(r,null,{default:l(()=>[u("span",null,[a(D,{type:"primary",onClick:v},{default:l(()=>[w("\u67E5\u8BE2")]),_:1}),a(D,{type:"primary",ghost:"",onClick:V,style:{"margin-left":"15px"}},{default:l(()=>[w("\u91CD\u7F6E")]),_:1})])]),_:1})]),_:1},8,["model"])]),u("div",null,[a(E,{spinning:y.value},{default:l(()=>[a(q,{dataSource:F.value,columns:L,pagination:i.value,scroll:{x:0,y:445}},{bodyCell:l(({column:o,record:x})=>[o.dataIndex==="contractType"?(m(),g(I,{key:0},U(T,(d,C)=>u("div",{key:C},b(x.contractType==d.value?d.label:""),1)),64)):N("",!0),o.dataIndex==="contractStatus"?(m(),g(I,{key:1},U(z,(d,C)=>u("div",{key:C},b(x.contractStatus==d.value?d.label:""),1)),64)):N("",!0),o.dataIndex==="action"?(m(),g("span",de,[a(j,{size:"middle",style:{color:"#05c059",cursor:"pointer"}},{default:l(()=>[u("span",{onClick:d=>Q(x)},"\u8BE6\u60C5",8,ie)]),_:2},1024)])):N("",!0)]),_:1},8,["dataSource","pagination"])]),_:1},8,["spinning"])])]),a(le,{ref_key:"cmDetailModal",ref:k},null,512)],64)}}},ye=J(pe,[["__scopeId","data-v-f44ecd1d"]]);export{ye as default};
