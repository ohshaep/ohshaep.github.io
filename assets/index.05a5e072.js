import{z as P,r as u,aj as W,o as s,c as g,d as t,w as e,e as i,t as B,F as x,W as A,g as w,i as d,f as h,Q as r,_ as H,a$ as K,b0 as X,y as Y,a6 as Z,n as ee,a3 as ae,B as te,L as le,s as ne,q as oe,x as se,S as ue,N as pe,O as ie}from"./index.192c8708.js";import{g as re}from"./artMag.f64bd10b.js";import _e from"./review-modal.b6867207.js";import"./common.e897a13c.js";import"./common.0ebad352.js";const ce=[{title:"\u5E8F\u53F7",align:"center",width:80,customRender:({text:v,record:o,index:p})=>parseInt(p)+1},{title:"\u8303\u672C\u540D\u79F0",ellipsis:!0,align:"center",dataIndex:"templateName"},{title:"\u8303\u672C\u72B6\u6001",width:100,align:"center",dataIndex:"approvalState"},{title:"\u53D1\u5E03\u65F6\u95F4",width:200,align:"center",dataIndex:"publishTime"},{title:"\u8303\u672C\u8BF4\u660E",ellipsis:!0,align:"center",dataIndex:"remark"},{title:"\u64CD\u4F5C",dataIndex:"action",align:"center",fixed:"right",width:147,scopedSlots:{customRender:"action"}}],de=[{value:"1",label:"\u5F85\u5BA1\u6279"},{value:"2",label:"\u5BA1\u6838\u4E0D\u901A\u8FC7"},{value:"3",label:"\u5BA1\u6838\u901A\u8FC7"},{value:"4",label:"\u5DF2\u53D1\u5E03"}],ve=[{label:"\u5168\u90E8",value:void 0},{label:"\u5F85\u5BA1\u6279",value:"1"},{label:"\u5BA1\u6838\u901A\u8FC7",value:"3"},{label:"\u5BA1\u6838\u4E0D\u901A\u8FC7",value:"2"},{label:"\u5DF2\u53D1\u5E03",value:"4"}];const M=v=>(pe("data-v-94b53fef"),v=v(),ie(),v),me=M(()=>h("span",{class:"separate"},"/",-1)),fe=M(()=>h("span",null,"\u8303\u672C\u5BA1\u6279",-1)),ge={class:"app-container"},he={class:"container-wrapper"},ye={key:1},Se=["onClick"],be={__name:"index",setup(v){const o=u({templateName:"",approvalState:void 0}),p=u({}),k=u(0),C=u(10),m=u({current:1,pageSize:10,pageSizeOptions:["10","20","30","40","100"],total:0,showTotal:a=>`\u5171 ${a} \u6761`,hideOnSinglePage:!1,onChange:(a,l)=>I(a,l),onShowSizeChange:(a,l)=>{I(a,l,"sizeChange")},showSizeChanger:!0,showQuickJumper:!0}),I=(a,l,S)=>{m.value.current=a,S==="sizeChange"&&(m.value.pageSize=l),k.value=(a-1)*10,C.value=l,f()},f=a=>{console.log(p.value,"searchForm"),p.value.offset=k.value,p.value.limit=C.value,p.value.templateName=o.value.templateName,p.value.approvalState=o.value.approvalState,$()},y=u(!1),N=u([]),$=async()=>{y.value=!0;const a=await re(p.value);a.code===200&&(N.value=a.data.records,m.value.total=a.data.total,y.value=!1)};W(()=>{f()});const L=u(null),V=()=>{p.value={offset:0,limit:10},m.value.current=1,o.value={},$()},F=u({}),z=u(null),O=async a=>{F.value=a,z.value.showModal(),console.log(a)};return(a,l)=>{const S=H,Q=K,T=X,U=Y,j=Z,b=ee,q=ae,R=te,_=le,D=ne,E=oe,G=se,J=ue;return s(),g(x,null,[t(S,{title:"\u8303\u672C\u5BA1\u6279",icon:"icon-rongqi"},{nav:e(()=>[i(B("\u8303\u672C\u5BA1\u6279")+" "),me,fe]),_:1}),t(U,null,{default:e(()=>[t(T,{value:o.value.approvalState,"onUpdate:value":l[0]||(l[0]=n=>o.value.approvalState=n),onChange:l[1]||(l[1]=n=>f())},{default:e(()=>[(s(!0),g(x,null,A(w(ve),n=>(s(),d(Q,{key:n.value,value:n.value},{default:e(()=>[i(B(n.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),h("div",ge,[t(E,{justify:"space-between",style:{flex:"1"}},{default:e(()=>[h("div",he,[t(D,{layout:"inline",ref_key:"searchFormRef",ref:L,model:o.value},{default:e(()=>[t(b,{style:{width:"308px"},label:"\u8303\u672C\u540D\u79F0"},{default:e(()=>[t(j,{value:o.value.templateName,"onUpdate:value":l[2]||(l[2]=n=>o.value.templateName=n),placeholder:"\u8BF7\u8F93\u5165\u8303\u672C\u540D\u79F0",clearable:"",style:{width:"240px"}},null,8,["value"])]),_:1}),t(b,null,{default:e(()=>[t(q,{value:o.value.approvalState,"onUpdate:value":l[3]||(l[3]=n=>o.value.approvalState=n),options:w(de),label:"\u8303\u672C\u72B6\u6001",placeholder:"\u8BF7\u9009\u62E9\u8303\u672C\u72B6\u6001",clearable:"",style:{width:"240px"}},null,8,["value","options"])]),_:1}),t(b,null,{default:e(()=>[t(_,null,{default:e(()=>[t(R,{type:"primary",onClick:f},{default:e(()=>[i("\u67E5\u8BE2")]),_:1}),t(R,{type:"primary",ghost:"",onClick:V},{default:e(()=>[i("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),t(J,{spinning:y.value},{default:e(()=>[t(G,{dataSource:N.value,columns:w(ce),pagination:m.value,scroll:{x:0,y:410}},{bodyCell:e(({column:n,record:c})=>[n.dataIndex==="approvalState"?(s(),g(x,{key:0},[c.approvalState==""?(s(),d(_,{key:0},{default:e(()=>[i("\u5168\u90E8")]),_:1})):r("",!0),c.approvalState=="1"?(s(),d(_,{key:1},{default:e(()=>[i("\u5F85\u5BA1\u6279")]),_:1})):r("",!0),c.approvalState=="2"?(s(),d(_,{key:2},{default:e(()=>[i("\u5BA1\u6838\u4E0D\u901A\u8FC7")]),_:1})):r("",!0),c.approvalState=="3"?(s(),d(_,{key:3},{default:e(()=>[i("\u5BA1\u6838\u901A\u8FC7")]),_:1})):r("",!0),c.approvalState=="4"?(s(),d(_,{key:4},{default:e(()=>[i("\u5DF2\u53D1\u5E03")]),_:1})):r("",!0)],64)):r("",!0),n.dataIndex==="action"?(s(),g("span",ye,[t(_,{size:"middle",style:{color:"#05c059",cursor:"pointer"}},{default:e(()=>[c.approvalState==1?(s(),g("span",{key:0,onClick:xe=>O(c)},"\u5BA1\u6838",8,Se)):r("",!0)]),_:2},1024)])):r("",!0)]),_:1},8,["dataSource","columns","pagination"])]),_:1},8,["spinning"])]),t(_e,{ref_key:"reviewModalRef",ref:z,"review-data":F.value,onRefresh:f},null,8,["review-data"])],64)}}},$e=P(be,[["__scopeId","data-v-94b53fef"]]);export{$e as default};
