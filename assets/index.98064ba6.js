import{z as re,a as pe,r as s,aO as ve,A as X,V as me,o as _,c as y,d as a,w as t,e as d,t as q,f as v,g as U,R as j,E as _e,F as $,W as F,i as A,Q as G,G as ce,m as B,_ as fe,b3 as ye,n as ge,a8 as be,a9 as he,a6 as xe,B as we,L as Ce,s as Ne,q as ke,x as Se,S as Ie,bC as Te,ab as Ue,M as $e,N as Be,O as Re}from"./index.192c8708.js";import{_ as ze}from"./index.fab15c34.js";import{g as Oe,a as Ve,d as qe,b as Fe,e as De}from"./approveSaleOut.1dd4a8dc.js";const Ee=[{title:"\u53F0\u8D26\u540D",dataIndex:"name",width:150},{title:"\u521B\u5EFA\u4EBA",dataIndex:"createBy",width:150},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",width:150},{title:"\u6700\u540E\u4E00\u6B21\u4FEE\u6539\u65F6\u95F4",dataIndex:"updateTime",ellipsis:!0,width:150},{title:"\u6700\u540E\u4E00\u6B21\u4FEE\u6539\u4EBA",dataIndex:"updateBy",ellipsis:!0,width:150},{title:"\u83DC\u5355\u72B6\u6001",dataIndex:"status",ellipsis:!0,width:150},{title:"\u5907\u6CE8",dataIndex:"remark",ellipsis:!0,width:150},{title:"\u6392\u5E8F",dataIndex:"sort",width:150},{title:"\u8DEF\u7531",dataIndex:"route",width:150},{title:"\u64CD\u4F5C",dataIndex:"operation",fixed:"right",align:"center",width:150}];const D=S=>(Be("data-v-47e6680d"),S=S(),Re(),S),Le=D(()=>v("span",{class:"separate"},"/",-1)),Me=D(()=>v("span",null,"\u51FA\u5E93\u67E5\u8BE2",-1)),Pe={class:"app-container"},Ye={class:"container-wrapper"},Qe={key:1},Ke=["onClick"],Xe=D(()=>v("a",{href:"#"},"\u5220\u9664",-1)),je={style:{"margin-bottom":"20px",display:"flex","align-items":"center"}},Ae={style:{"margin-bottom":"20px",display:"flex","align-items":"center"}},Ge=["onClick"],Je={__name:"index",setup(S){pe(),s(!1);const{proxy:J}=ce();J.useDict("sys_point_type");const E=s([{value:"name",label:"\u53F0\u8D26\u540D"},{value:"createBy",label:"\u521B\u5EFA\u4EBA"},{value:"updateBy",label:"\u6700\u540E\u4E00\u6B21\u4FEE\u6539\u4EBA"},{value:"status",label:"\u83DC\u5355\u72B6\u6001"}]),u=s({parentId:"1074",menuName:"",icon:"404",menuType:"C",orderNum:1,isFrame:"1",isCache:"0",visible:"0",status:0,path:"\u9ED8\u8BA4\u8DEF\u7531",component:"foodmanger/fumigate/index",fields:[{serialNumber:0,fieldName:"\u8FD9\u662F\u4E2A\u83DC\u5355\u540D"}]});s(1);const W=s(),g=s(!1),b=s(!1),R=s(!0),c=s([]),h=s([]);s(""),s(""),s(null);const H=async()=>{c.value=[],i.value={current:1,pageSize:10,orderStatus:"",beginTime:"",endTime:"",orderStatus:""},w.value="name",C.value="",I()},Z=s([]);s({onChange:(n,e)=>{Z.value=n}});const L=n=>{u.value.fields.splice(n,1)},M=()=>{u.value.fields.push({fieldName:"",serialNumber:u.value.fields.length}),console.log(u.value,"sss")},I=n=>{x.current=1,i.value.current=1,i.value.timeType=1,N()};function ee(n){E.value.forEach((e,r)=>{e.value!=n&&(i.value[e.value]="")})}ve(h,(n,e)=>{if(!!n.length)for(let r=0;r<n.length;r++)h.value[r].key=h.value[r].id});const P=(n,e,r)=>{x.current=n,r&&(x.pageSize=e,i.value.pageSize=e),i.value.current=n,N()},x=X({current:1,pageSize:10,total:0,showTotal:n=>`\u5171 ${n} \u6761`,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["2","20","50","100"],onChange:(n,e)=>P(n,e),onShowSizeChange:(n,e)=>P(n,e,"sizeChange")}),ae=X({queryParams:{current:1,pageSize:10,orderStatus:"",beginTime:"",endTime:""},searchType:"name",searchValue:""}),{queryParams:i,searchType:w,searchValue:C}=me(ae),N=async()=>{R.value=!0,c.value&&c.value.length>0?(i.value.beginTime=c.value[0],i.value.endTime=c.value[1]):(i.value.beginTime="",i.value.endTime=""),i.value[w.value]=C.value,Oe({...i.value}).then(n=>{n.code===200&&B.success("\u67E5\u8BE2\u6210\u529F");const e=n.data;h.value=e.records,x.total=e.total||0,R.value=!1}),u.value={parentId:"1074",menuName:"",icon:"404",menuType:"C",orderNum:1,isFrame:"1",isCache:"0",visible:"0",status:0,path:"\u968F\u5373\u53C2\u6570",component:"foodmanger/fumigate/index",fields:[{serialNumber:0,fieldName:"\u8FD9\u662F\u4E2A\u5B57\u6BB5"}]}},le=n=>{b.value=!0,Ve(n).then(e=>{u.value=e.data})},te=n=>{console.log(n,"sadasdasdasd"),qe(n.id).then(e=>{e.code===200&&B.success("\u5220\u9664\u6210\u529F"),N()})},Y=async(n=0)=>{u.value.fields.forEach((r,z,o)=>{r.serialNumber=z+1});let e;n==0?(u.value.path=new Date().valueOf(),e=await Fe(u.value)):e=await De(u.value),e.code==200?(B.success("\u63D0\u4EA4\u6210\u529F"),g.value=!1,b.value=!1,N()):B.error(e.message||"\u5931\u8D25")};return N(),(n,e)=>{const r=fe,z=ye,o=ge,ne=be,ue=he,m=xe,k=we,O=Ce,V=Ne,se=ke,oe=ze,ie=Se,de=Ie,T=Te,Q=Ue,K=$e;return _(),y($,null,[a(r,{title:"\u53F0\u8D26\u7BA1\u7406",icon:"icon-rongqi"},{nav:t(()=>[d(q("\u51FA\u5E93\u67E5\u8BE2")+" "),Le,Me]),_:1}),v("div",Pe,[a(se,{justify:"space-between",style:{flex:"1"}},{default:t(()=>[v("div",Ye,[a(V,{layout:"inline",model:U(i)},{default:t(()=>[a(o,{style:{width:"308px"},name:"dateRange",label:"\u521B\u5EFA\u65F6\u95F4"},{default:t(()=>[a(z,{value:c.value,"onUpdate:value":e[0]||(e[0]=l=>c.value=l),"value-format":"YYYY-MM-DD",onChange:I},null,8,["value"])]),_:1}),a(o,{label:""},{default:t(()=>[a(m,{placeholder:"\u8BF7\u8F93\u5165",value:U(C),"onUpdate:value":e[2]||(e[2]=l=>j(C)?C.value=l:null),onKeyup:_e(I,["enter"])},{addonBefore:t(()=>[a(ue,{style:{width:"120px"},value:U(w),"onUpdate:value":e[1]||(e[1]=l=>j(w)?w.value=l:null),onChange:ee},{default:t(()=>[(_(!0),y($,null,F(E.value,(l,p)=>(_(),A(ne,{key:p,value:l.value},{default:t(()=>[d(q(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["value"])]),_:1}),a(o,{style:{"margin-left":"auto"}},{default:t(()=>[a(O,null,{default:t(()=>[a(k,{type:"primary",onClick:I},{default:t(()=>[d("\u67E5\u8BE2")]),_:1}),a(k,{type:"primary",ghost:"",onClick:H},{default:t(()=>[d("\u91CD\u7F6E")]),_:1}),a(k,{type:"primary",onClick:e[3]||(e[3]=l=>g.value=!0)},{default:t(()=>[d("\u6DFB\u52A0")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),a(de,{spinning:R.value},{default:t(()=>[a(ie,{dataSource:h.value,columns:U(Ee),pagination:x,scroll:{x:0,y:500}},{bodyCell:t(({column:l,record:p})=>[l.dataIndex==="status"?(_(),A(O,{key:0},{default:t(()=>[d(q(["\u505C\u7528","\u542F\u52A8"][p.status]),1)]),_:2},1024)):G("",!0),l.dataIndex==="operation"?(_(),y("span",Qe,[a(O,{size:"middle",style:{color:"#05C059",cursor:"pointer"}},{default:t(()=>[v("span",{onClick:f=>le(p.id)},"\u7F16\u8F91",8,Ke),a(oe,{title:"\u786E\u5B9A\u5220\u9664\u8BE5\u53F0\u8D26\u5417?","ok-text":"\u786E\u5B9A","cancel-text":"\u5426",onConfirm:f=>te(p)},{default:t(()=>[Xe]),_:2},1032,["onConfirm"])]),_:2},1024)])):G("",!0)]),_:1},8,["dataSource","columns","pagination"])]),_:1},8,["spinning"])]),a(K,{ref_key:"queryRef",ref:W,visible:g.value,"onUpdate:visible":e[9]||(e[9]=l=>g.value=l),title:"\u53F0\u8D26\u6DFB\u52A0",onOk:e[10]||(e[10]=l=>Y()),onCancel:e[11]||(e[11]=l=>g.value=!1),"append-to-body":"",destroyOnClose:"",style:{width:"560px"}},{default:t(()=>[v("div",null,[a(V,{"label-col":{span:6},rules:n.rules,layout:"inline",model:u.value},{default:t(()=>[a(o,{label:"\u53F0\u8D26\u540D\u5B57",name:"menuName"},{default:t(()=>[a(m,{value:u.value.menuName,"onUpdate:value":e[4]||(e[4]=l=>u.value.menuName=l),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",style:{width:"175px"}},null,8,["value"])]),_:1}),a(o,{label:"\u83DC\u5355\u6392\u5E8F",name:"menucount"},{default:t(()=>[a(m,{value:u.value.orderNum,"onUpdate:value":e[5]||(e[5]=l=>u.value.orderNum=l),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5FAA\u5E8F",style:{width:"175px"}},null,8,["value"])]),_:1}),a(o,{label:"\u83DC\u5355\u8DEF\u7531",name:"menuurl"},{default:t(()=>[a(m,{value:u.value.path,"onUpdate:value":e[6]||(e[6]=l=>u.value.path=l),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8DEF\u7531",style:{width:"175px"},disabled:""},null,8,["value"])]),_:1}),a(o,{label:"\u83DC\u5355\u72B6\u6001",name:"menustatus",style:{width:"175px"}},{default:t(()=>[a(Q,{value:u.value.status,"onUpdate:value":e[7]||(e[7]=l=>u.value.status=l),style:{"margin-left":"20px"}},{default:t(()=>[a(T,{value:0},{default:t(()=>[d("\u542F\u52A8")]),_:1}),a(T,{value:1},{default:t(()=>[d("\u6682\u505C")]),_:1})]),_:1},8,["value"])]),_:1}),a(o,{label:"\u5B57\u6BB5\u6DFB\u52A0"},{default:t(()=>[(_(!0),y($,null,F(u.value.fields,(l,p)=>(_(),y("div",je,[a(m,{value:l.fieldName,"onUpdate:value":f=>l.fieldName=f,placeholder:"\u7B2C"+(p+1)+"\u4E2A\u5B57\u6BB5\u540D\u79F0",style:{width:"160px"}},null,8,["value","onUpdate:value","placeholder"]),a(k,{type:"primary",onClick:f=>L(p),style:{"margin-left":"10px"}},{default:t(()=>[d("X")]),_:2},1032,["onClick"])]))),256)),a(k,{type:"primary",onClick:e[8]||(e[8]=l=>M())},{default:t(()=>[d("\u6DFB\u52A0")]),_:1})]),_:1})]),_:1},8,["rules","model"])])]),_:1},8,["visible"]),a(K,{visible:b.value,"onUpdate:visible":e[17]||(e[17]=l=>b.value=l),title:"\u53F0\u8D26\u7F16\u8F91",onOk:e[18]||(e[18]=l=>Y(1)),onCancel:e[19]||(e[19]=l=>b.value=!1),"append-to-body":"",destroyOnClose:"",style:{width:"560px"}},{default:t(()=>[v("div",null,[a(V,{"label-col":{span:6},rules:n.rules,layout:"inline",model:u.value},{default:t(()=>[a(o,{label:"\u53F0\u8D26\u540D\u5B57",name:"menuName"},{default:t(()=>[a(m,{value:u.value.menuName,"onUpdate:value":e[12]||(e[12]=l=>u.value.menuName=l),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",style:{width:"175px"}},null,8,["value"])]),_:1}),a(o,{label:"\u83DC\u5355\u6392\u5E8F",name:"menucount"},{default:t(()=>[a(m,{value:u.value.orderNum,"onUpdate:value":e[13]||(e[13]=l=>u.value.orderNum=l),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5FAA\u5E8F",style:{width:"175px"}},null,8,["value"])]),_:1}),a(o,{label:"\u83DC\u5355\u8DEF\u7531",name:"menuurl"},{default:t(()=>[a(m,{value:u.value.path,"onUpdate:value":e[14]||(e[14]=l=>u.value.path=l),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u8DEF\u7531",style:{width:"175px"},disabled:""},null,8,["value"])]),_:1}),a(o,{label:"\u83DC\u5355\u72B6\u6001",name:"menustatus",style:{width:"175px"}},{default:t(()=>[a(Q,{value:u.value.status,"onUpdate:value":e[15]||(e[15]=l=>u.value.status=l),style:{"margin-left":"20px"}},{default:t(()=>[a(T,{value:1},{default:t(()=>[d("\u542F\u52A8")]),_:1}),a(T,{value:0},{default:t(()=>[d("\u6682\u505C")]),_:1})]),_:1},8,["value"])]),_:1}),a(o,{label:"\u5B57\u6BB5\u6DFB\u52A0"},{default:t(()=>[(_(!0),y($,null,F(u.value.fields,(l,p)=>(_(),y("div",Ae,[a(m,{value:l.fieldName,"onUpdate:value":f=>l.fieldName=f,placeholder:"\u7B2C"+(p+1)+"\u4E2A\u5B57\u6BB5\u540D\u79F0",style:{width:"160px"}},null,8,["value","onUpdate:value","placeholder"]),v("span",{onClick:f=>L(p)},"X",8,Ge)]))),256)),v("span",{onClick:e[16]||(e[16]=l=>M())},"+")]),_:1})]),_:1},8,["rules","model"])])]),_:1},8,["visible"])],64)}}},ea=re(Je,[["__scopeId","data-v-47e6680d"]]);export{ea as default};
