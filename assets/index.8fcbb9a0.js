import{z as va,r as v,A as te,ca,V as ma,C as fa,o as f,c as b,d as a,w as s,e as c,t as I,h as H,D as X,f as r,g as n,R as we,F as B,W as Z,i as D,Q as U,bU as ya,b6 as ga,cb as ha,cc as wa,m as T,M as j,_ as ba,b3 as _a,n as ka,a8 as xa,a9 as Ca,a6 as Ua,a3 as Sa,q as Ra,B as Ia,s as Ta,bp as La,a4 as Da,aB as Na,K as Oa,a5 as qa,L as $a,x as za,ac as Pa,l as Va,bW as Fa,cd as Ya,N as Ma,O as Qa,G as Ba}from"./index.192c8708.js";import{d as ja,u as Ea,q as Wa,b as Aa,a as be,c as _e,g as Ka}from"./qualityReport.6dc17b5d.js";const Ja=[{title:"\u8D28\u68C0\u6307\u6807",dataIndex:"targetContent",ellipsis:!0,width:100},{title:"\u68C0\u9A8C\u4F9D\u636E",dataIndex:"accordance",ellipsis:!0,width:100},{title:"\u6807\u51C6",dataIndex:"standard",ellipsis:!0,width:100},{title:"\u5355\u4F4D",dataIndex:"unit",ellipsis:!0,width:150},{title:"\u8D28\u68C0\u6307\u6807\u503C",dataIndex:"targetValue",ellipsis:!0,width:150},{title:"\u8D28\u68C0\u7ED3\u679C",dataIndex:"checkResult",ellipsis:!0,width:150},{title:"\u589E\u6263\u91CF\uFF08\u5343\u514B\uFF09",dataIndex:"changeQuality",ellipsis:!0,width:150},{title:"\u589E\u6263\u4EF7\uFF08\u5143\uFF09",dataIndex:"changePrice",ellipsis:!0,width:150},{title:"\u68C0\u9A8C\u8BF4\u660E",dataIndex:"checkDeclare",ellipsis:!0,width:150},{title:"\u68C0\u9A8C\u5458\u610F\u89C1",dataIndex:"checkerOpinion",ellipsis:!0,width:150}],Ga=[{title:"\u8D28\u68C0\u6307\u6807",dataIndex:"targetContent",ellipsis:!0,width:150,key:"targetContent",scopedSlots:{customRender:"targetContent"},slots:{customRender:"targetContent"}},{title:"\u68C0\u9A8C\u4F9D\u636E",dataIndex:"accordance",ellipsis:!0,width:150,key:"accordance",scopedSlots:{customRender:"accordance"},slots:{customRender:"accordance"}},{title:"\u6807\u51C6",dataIndex:"standard",ellipsis:!0,width:150,key:"standard",scopedSlots:{customRender:"standard"},slots:{customRender:"standard"}},{title:"\u5355\u4F4D",dataIndex:"unit",ellipsis:!0,width:150,key:"unit",scopedSlots:{customRender:"unit"},slots:{customRender:"unit"}},{title:"\u8D28\u68C0\u6307\u6807\u503C",dataIndex:"targetValue",ellipsis:!0,width:150,key:"targetValue",scopedSlots:{customRender:"targetValue"},slots:{customRender:"targetValue"}},{title:"\u8D28\u68C0\u7ED3\u679C",dataIndex:"checkResult",ellipsis:!0,width:150,key:"checkResult",scopedSlots:{customRender:"checkResult"},slots:{customRender:"checkResult"}},{title:"\u589E\u6263\u91CF\uFF08\u5343\u514B\uFF09",dataIndex:"changeQuality",ellipsis:!0,width:150,key:"changeQuality",scopedSlots:{customRender:"changeQuality"},slots:{customRender:"changeQuality"}},{title:"\u589E\u6263\u4EF7\uFF08\u5143\uFF09",dataIndex:"changePrice",ellipsis:!0,width:150,key:"changePrice",scopedSlots:{customRender:"changePrice"},slots:{customRender:"changePrice"}},{title:"\u68C0\u9A8C\u8BF4\u660E",dataIndex:"checkDeclare",ellipsis:!0,width:150,key:"checkDeclare",scopedSlots:{customRender:"checkDeclare"},slots:{customRender:"checkDeclare"}},{title:"\u68C0\u9A8C\u5458\u610F\u89C1",dataIndex:"checkerOpinion",ellipsis:!0,width:150,key:"checkerOpinion",scopedSlots:{customRender:"checkerOpinion"},slots:{customRender:"checkerOpinion"}}];const E=W=>(Ma("data-v-a757d306"),W=W(),Qa(),W),Ha=E(()=>r("span",{class:"separate"},"/",-1)),Xa=E(()=>r("span",null,"\u6266\u6837\u7BA1\u7406",-1)),Za={class:"app-container"},el={class:"container-wrapper"},al={key:1},ll={key:2},tl={key:4},nl={key:0},ul={key:1},sl={class:"app-container"},ol={class:"container-wrapper"},il={key:2},dl={class:"uploadBox"},pl=E(()=>r("span",{style:{"margin-left":"20px"}},"\u652F\u6301pdf\u3001word\u3001txt\u3001xls\u3001xlsx\u3001\u56FE\u7247\u683C\u5F0F\u6587\u4EF6\uFF0C\u5355\u4E2A\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC750M\u3002",-1)),rl={style:{display:"flex","align-items":"center"}},vl=["onClick"],cl={class:"ant-upload-drag-icon"},ml=E(()=>r("p",{class:"ant-upload-text"},[c("\u5C06\u6587\u4EF6\u62D6\u5230\u6B64\u5904\uFF0C\u6216"),r("em",null,"\u70B9\u51FB\u4E0A\u4F20")],-1)),fl={class:"dialog-footer"},yl={class:"app-container"},gl={class:"container-wrapper"},hl={class:"uploadBox"},wl=E(()=>r("div",null,"\u9644\u4EF6\u4E0A\u4F20",-1)),bl={style:{display:"flex","align-items":"center"}},_l=["onClick"],kl={__name:"index",setup(W){const{proxy:N}=Ba(),_=v("1"),A=v([]);v(!1);const ne=v(!0),ke=v(!0),xe=v([]),Ce=v(!0),Ue=v(!0),O=v([]),L=te({open:!1,title:"",isUploading:!1,updateSupport:!1,headers:{Authorization:ca(),"Content-Type":"multipart/form-data"},url:"http://113.108.106.175:81/system/user/importData"}),ue=v([{value:"inspectCode",label:"\u8D28\u68C0\u5355\u53F7"},{value:"productName",label:"\u7269\u6599\u540D\u79F0"},{value:"sampleCode",label:"\u6266\u6837\u5355\u7F16\u53F7"}]),Se=v([{value:"1",label:"\u5165\u5E93"},{value:"2",label:"\u5728\u5E93"},{value:"3",label:"\u51FA\u5E93"}]),Re=v([{value:"1",label:"\u4E00\u7B49"},{value:"2",label:"\u4E8C\u7B49"},{value:"3",label:"\u4E09\u7B49"},{value:"4",label:"\u56DB\u7B49"},{value:"5",label:"\u4E94\u7B49"},{value:"6",label:"\u7B49\u5916"}]);v([]);const Ie=v([{value:"",label:"\u5168\u90E8"},{value:"4",label:"\u5F85\u63D0\u4EA4"},{value:"1",label:"\u5F85\u5BA1\u6838"},{value:"3",label:"\u5BA1\u6838\u901A\u8FC7"},{value:"2",label:"\u5BA1\u6838\u4E0D\u901A\u8FC7"}]),k=v([{key:1,targetContent:void 0,accordance:void 0,standard:void 0,unit:void 0,targetValue:void 0,checkResult:void 0,changeQuality:void 0,changePrice:void 0,checkDeclare:void 0,checkerOpinion:void 0,editable:!0}]),Te=["targetContent","accordance","standard","unit","targetValue","checkResult","changeQuality","changePrice","checkDeclare","checkerOpinion"],Le=[""],De=["targetValue","changeQuality","changePrice","checkDeclare","checkerOpinion"],Ne=["checkResult"],Oe=v([{value:"\u662F",label:"\u662F"},{value:"\u5426",label:"\u5426"}]),qe=v([{value:"\u56FD\u6807",label:"\u56FD\u6807"},{value:"\u5176\u4ED6",label:"\u5176\u4ED6"}]),$e=v([{value:"\u5408\u683C",label:"\u5408\u683C"},{value:"\u4E0D\u5408\u683C",label:"\u4E0D\u5408\u683C"}]),ze=te({form:{},queryParams:{offset:0,limit:10},queryParamsTwo:{offset:0,limit:10},guanJianQueryParams:{offset:0,limit:10},searchValue:"",searchType:"inspectCode",rules:{dictName:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictType:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},rulesUpdata:{inspectDate:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],inspectUser:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],inspectOrganization:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],sampleLevel:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]}});function Pe(u,e,i,m){if(m!==0&&u===e[m-1][i])return 0;let o=1;for(let Y=m+1;Y<e.length&&u===e[Y][i];Y++)o++;return o}const h=(u,e,i)=>{const m={children:u!==null?u:"",props:{}};return m.props.rowSpan=Pe(e.id,A.value,"id",i),m},Ve=[{title:"\u5E8F\u53F7",dataIndex:"id",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u8D28\u68C0\u5355\u53F7",dataIndex:"inspectCode",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u5355\u636E\u72B6\u6001",dataIndex:"approveStatus",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u6266\u6837\u5355\u7F16\u53F7",dataIndex:"sampleCode",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u6837\u54C1\u540D\u79F0",dataIndex:"productName",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u68C0\u9A8C\u65E5\u671F",dataIndex:"inspectDate",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u68C0\u9A8C\u7C7B\u522B",dataIndex:"sampleType",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u68C0\u9A8C\u4EBA",dataIndex:"inspectUser",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u4EE3\u8868\u6570\u91CF(\u5428)",dataIndex:"quality",ellipsis:!0,width:120,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u6837\u54C1\u91CD\u91CF(\u5343\u514B)",dataIndex:"sampleWeight",ellipsis:!0,width:120,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u8D28\u68C0\u6307\u6807\u540D\u79F0",dataIndex:"targetContent",ellipsis:!0,width:150},{title:"\u68C0\u9A8C\u4F9D\u636E",dataIndex:"accordance",ellipsis:!0,width:100},{title:"\u6807\u51C6",dataIndex:"standard",ellipsis:!0,width:100},{title:"\u5355\u4F4D",dataIndex:"unit",ellipsis:!0,width:100},{title:"\u8D28\u68C0\u6307\u6807\u503C",dataIndex:"targetValue",ellipsis:!0,width:150},{title:"\u8D28\u68C0\u7ED3\u679C",dataIndex:"checkResult",ellipsis:!0,width:100},{title:"\u589E\u6263\u91CF\uFF08\u5343\u514B\uFF09",dataIndex:"changeQuality",width:150},{title:"\u589E\u6263\u4EF7(\u5143)",dataIndex:"changePrice",width:100},{title:"\u68C0\u6D4B\u8BF4\u660E",dataIndex:"checkDeclare",ellipsis:!0,width:100},{title:"\u68C0\u9A8C\u5458\u610F\u89C1",dataIndex:"checkerOpinion",ellipsis:!0,width:100},{title:"\u5907\u6CE8",dataIndex:"remark",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u5BA1\u6279\u4EBA",dataIndex:"approveUser",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u5BA1\u6279\u65F6\u95F4",dataIndex:"approveTime",ellipsis:!0,width:100,customRender:({text:u,record:e,index:i})=>h(u,e,i)},{title:"\u64CD\u4F5C",dataIndex:"edit",fixed:"right",align:"center",width:300,customRender:({text:u,record:e,index:i})=>h(u,e,i)}],{queryParams:y,form:Fe,rules:xl,rulesUpdata:Ye,searchValue:V,searchType:F,queryParamsTwo:t}=ma(ze),x=v([]);function Me(u,e){console.log("xx",u.target.checked,e),u.target.checked?x.value.push(e):x.value.splice(x.value.indexOf(e),1),console.log(x.value,"checkList")}const S=v([]),C=v([]),R=v([]);function Qe(u){C.value.splice(u,1),R.value[u]&&(R.value.splice(u,1),S.value.splice(u,1))}const Be=async u=>{let e={fileName:C.value[u],path:R.value[u]};const i=await ja(e),m=new Blob([i]),o=document.createElement("a");o.download=e.fileName,o.style.display="none",o.href=URL.createObjectURL(m),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)};async function je(){if(console.log(S.value),console.log(L.updateSupport),S.value.length<1){T.warning("\u8BF7\u4E0A\u4F20\u76F8\u5173\u6587\u4EF6\uFF01");return}let u=S.value[0].originFileObj;if(!u)return;const e=u.size/1024/1024<50;if(console.log("\u6587\u4EF6\u5927\u5C0F\u4E3A\uFF1A============"+u.size/1024/1024+"M"),!e){const o=S.indexOf(u);return S.splice(o,1),ElMessage.warning("\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 50MB!!"),!1}var i=new FormData;i.append("file",u);const m=await Ea(i,L.updateSupport);R.value.push(m.data),C.value.push(S.value[0].originFileObj.name),T.success("\u4E0A\u4F20\u6210\u529F"),L.open=!1}function q(){ne.value=!0,O.value.length>0?(y.value.beginTime=O.value[0],y.value.endTime=O.value[1]):(y.value.beginTime="",y.value.endTime=""),y.value[F.value]=V.value,Wa(N.addDateRange(y.value)).then(u=>{const e=u==null?void 0:u.data;A.value=e.data,$.total=(e==null?void 0:e.row)||0,$.pageSize=e==null?void 0:e.trueNum,ne.value=!1})}function se(){Fe.value={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0,ctgLevel1Id:void 0,ctgLevel2Id:void 0},t.value={},N.resetForm("dictRef")}function oe(){$.current=1,y.value.offset=0,q()}const Ee=v(!1);function We(){x.value.length==0?T.error("\u8BF7\u9009\u62E9\u4E00\u9879"):j.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:"\u662F\u5426\u786E\u5B9A\u63D0\u4EA4\u5BA1\u6279\uFF1F",onOk(){Aa({ids:x.value.toString(),approveStatus:1}).then(()=>{q(),x.value=[],Ee.value=!1,A.value.map((u,e)=>{u.checked=!1}),T.success("\u63D0\u4EA4\u6210\u529F")}).catch(()=>{})}})}function Ae(u,e,i){k.value[i][e]=u}function Ke(u,e,i){k.value[i][e]=u}function ie(){O.value=[],N.resetForm("queryRef"),y.value={offset:0,limit:10},F.value="inspectCode",V.value="",oe()}function Je(u){ue.value.forEach((e,i)=>{e.value!=u&&(y.value[e.value]="")})}const de=v(),Ge=async u=>{var e,i;try{t.value.approveStatus=1,t.value.recordList=k.value,t.value.sampleType=t.value.sampleType=="\u5165\u5E93"?"1":t.value.sampleType=="\u5728\u5E93"?"2":"3",t.value.fileInfo=(e=R.value)==null?void 0:e.toString(),t.value.fileNames=(i=C.value)==null?void 0:i.toString();const m=await de.value.validateFields();j.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:"\u662F\u5426\u786E\u5B9A\u4FDD\u5B58\uFF1F",onOk(){be({id:u,...t.value}).then(()=>{_.value="1",q(),T.success("\u4FDD\u5B58\u6210\u529F")}).catch(()=>{})}})}catch(m){console.log(m,";xx")}},pe=(u,e,i)=>{$.current=u,i&&($.pageSize=e,y.value.limit=e),y.value.offset=(u-1)*e,q()},$=te({current:1,pageSize:10,total:0,showTotal:u=>`\u5171 ${u} \u6761`,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["2","20","50","100"],onChange:(u,e)=>pe(u,e),onShowSizeChange:(u,e)=>pe(u,e,"sizeChange")});function He(){x.value.length==0?T.error("\u8BF7\u9009\u62E9\u4E00\u9879"):N.download("/qualityReport/batchExport",{ids:x.value.toString()},`report_${new Date().getTime()}.xlsx`)}function Xe(){x.value.length==0&&T.error("\u8BF7\u9009\u62E9\u4E00\u9879")}function Ze(u){N.download("/qualityReport/batchExport",{ids:u.id.toString()},`\u8D28\u68C0\u62A5\u544A_${new Date().getTime()}.xlsx`)}function ea(u){N.download("/qualityReport/batchExport",{ids:u.toString()},`report_${new Date().getTime()}.xlsx`)}const ee=v([]);function aa(u){xe.value=u.map(e=>e.dictId),Ce.value=u.length!=1,Ue.value=!u.length}const re={onChange:(u,e)=>{aa(e),console.log(`selectedRowKeys: ${u}`,"selectedRows: ",e)}};function la(u){se(),console.log("xxx"),z.value=u.id,_e(u.id).then(e=>{C.value=[],R.value=[],e.code==200&&(t.value=e.data,t.value.approveStatus=e.data.approveStatus=="1"?"\u5BA1\u6838\u4E2D":e.data.approveStatus=="2"?"\u5BA1\u6838\u4E0D\u901A\u8FC7":e.data.approveStatus=="3"?"\u5BA1\u6838\u901A\u8FC7":"\u5F85\u63D0\u4EA4",t.value.sampleType=e.data.sampleType=="1"?"\u5165\u5E93":e.data.sampleType=="2"?"\u5728\u5E93":"\u51FA\u5E93",ee.value=e.data.recordList,k.value=e.data.recordList,e.data.recordList.forEach((i,m)=>{k.value[m].key=m+1,k.value[m].editable=!0}),t.value.fileInfoList&&t.value.fileInfoList.forEach((i,m)=>{C.value.push(i.fileName),R.value.push(i.fileUrl)}),_.value="3")})}function ve(u){j.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u8BE5\u6570\u636E\u9879\uFF1F",onOk(){Ka(u).then(()=>{ie(),T.success("\u5220\u9664\u6210\u529F")}).catch(()=>{})}})}const z=v("");function ta(u){se(),z.value=u.id,_e(u.id).then(e=>{C.value=[],R.value=[],e.code==200&&(t.value=e.data,t.value.sampleLevel=e.data.sampleLevel=="1"?"\u4E00\u7B49":e.data.sampleLevel=="2"?"\u4E8C\u7B49":e.data.sampleLevel=="3"?"\u4E09\u7B49":e.data.sampleLevel=="4"?"\u56DB\u7B49":e.data.sampleLevel=="5"?"\u4E94\u7B49":e.data.sampleLevel=="6"?"\u7B49\u5916":e.data.sampleLevel,t.value.approveStatus=e.data.approveStatus=="1"?"\u5BA1\u6838\u4E2D":e.data.approveStatus=="2"?"\u5BA1\u6838\u4E0D\u901A\u8FC7":e.data.approveStatus=="3"?"\u5BA1\u6838\u901A\u8FC7":"\u5F85\u63D0\u4EA4",t.value.sampleType=e.data.sampleType=="1"?"\u5165\u5E93":e.data.sampleType=="2"?"\u5728\u5E93":"\u51FA\u5E93",t.value.fileInfoList&&t.value.fileInfoList.forEach((i,m)=>{C.value.push(i.fileName),R.value.push(i.fileUrl)}),ee.value=e.data.recordList,k.value=e.data.recordList,e.data.recordList.forEach((i,m)=>{k.value[m].key=m+1,k.value[m].editable=!0}),_.value="4")})}function ce(u){j.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:"\u662F\u5426\u786E\u5B9A\u64A4\u56DE\uFF1F",onOk(){be({id:u,approveStatus:4}).then(()=>{q(),_.value="1",T.success("\u64A4\u56DE\u6210\u529F")}).catch(()=>{})}})}function na(){}return q(),(u,e)=>{const i=ba,m=_a,o=ka,Y=xa,me=Ca,fe=Ua,M=Sa,ye=Ra,g=Ia,Q=Ta,ua=La,sa=Da,oa=Na,P=Oa,K=qa,ia=$a,ae=za,J=Pa,d=Va,ge=Fa,da=fa("upload-outlined"),pa=Ya,ra=j;return f(),b(B,null,[a(i,{title:_.value=="1"?"\u8D28\u68C0\u62A5\u544A":_.value=="2"?"\u65B0\u589E":_.value=="3"?"\u7F16\u8F91":"\u67E5\u770B",icon:"icon-xuniziyuan",back:"/overview"},{nav:s(()=>[c(I("\u6266\u6837\u7BA1\u7406")+" "),Ha,Xa]),_:1},8,["title"]),H(r("div",Za,[r("div",el,[H(a(Q,{model:n(y),ref:"queryRef",layout:"inline","label-width":"68px",style:{display:"flex","flex-direction":"column"}},{default:s(()=>[a(ye,null,{default:s(()=>[a(o,{style:{width:"308px"},name:"dateRange"},{default:s(()=>[a(m,{label:"\u68C0\u9A8C\u65E5\u671F",value:O.value,"onUpdate:value":e[0]||(e[0]=l=>O.value=l),"value-format":"YYYY-MM-DD"},null,8,["value"])]),_:1}),a(o,{label:""},{default:s(()=>[a(fe,{placeholder:"\u8BF7\u8F93\u5165",value:n(V),"onUpdate:value":e[2]||(e[2]=l=>we(V)?V.value=l:null)},{addonBefore:s(()=>[a(me,{style:{width:"120px"},value:n(F),"onUpdate:value":e[1]||(e[1]=l=>we(F)?F.value=l:null),onChange:Je},{default:s(()=>[(f(!0),b(B,null,Z(ue.value,(l,p)=>(f(),D(Y,{key:p,value:l.value},{default:s(()=>[c(I(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["value"])]),_:1}),a(o,{name:"sampleType"},{default:s(()=>[a(M,{label:"\u68C0\u9A8C\u7C7B\u578B",value:n(y).sampleType,"onUpdate:value":e[3]||(e[3]=l=>n(y).sampleType=l),placeholder:"\u8BF7\u9009\u62E9\u68C0\u9A8C\u7C7B\u578B",clearable:"",style:{width:"240px"},options:Se.value},null,8,["value","options"])]),_:1})]),_:1}),a(ye,null,{default:s(()=>[a(o,{name:"orderStatus"},{default:s(()=>[a(M,{label:"\u5355\u636E\u72B6\u6001",value:n(y).approveStatus,"onUpdate:value":e[4]||(e[4]=l=>n(y).approveStatus=l),placeholder:"\u8BF7\u9009\u62E9\u5355\u636E\u72B6\u6001",clearable:"",style:{width:"240px"},options:Ie.value},null,8,["value","options"])]),_:1}),a(o,null,{default:s(()=>[a(g,{type:"primary",onClick:oe},{default:s(()=>[c("\u67E5\u8BE2")]),_:1}),a(g,{type:"primary",ghost:"",onClick:ie,style:{"margin-left":"15px"}},{default:s(()=>[c("\u91CD\u7F6E")]),_:1})]),_:1}),a(o,null,{default:s(()=>[a(g,{type:"primary",onClick:We},{default:s(()=>[c(" \u63D0\u4EA4\u5BA1\u6838 ")]),_:1})]),_:1}),a(o,null,{default:s(()=>[a(g,{type:"primary",onClick:Xe},{default:s(()=>[c(" \u6279\u91CF\u6253\u5370 ")]),_:1})]),_:1}),a(o,null,{default:s(()=>[a(g,{type:"primary",onClick:He},{default:s(()=>[c(" \u6279\u91CF\u5BFC\u51FA ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),[[X,ke.value]])]),a(ae,{dataSource:A.value,columns:Ve,pagination:$,scroll:{x:"max-content",y:500}},{bodyCell:s(({column:l,record:p})=>[l.dataIndex==="id"?(f(),D(ua,{key:0,checked:p.checked,"onUpdate:checked":w=>p.checked=w,onChange:w=>Me(w,p.id)},null,8,["checked","onUpdate:checked","onChange"])):U("",!0),l.dataIndex==="isPrint"?(f(),b("span",al,I(p.isPrint=="0"?"\u672A\u6253\u5370":"\u5DF2\u6253\u5370"),1)):U("",!0),l.dataIndex==="sampleType"?(f(),b("span",ll,I(p.sampleType=="1"?"\u5165\u5E93":p.sampleType=="2"?"\u5728\u5E93":"\u51FA\u5E93"),1)):U("",!0),l.dataIndex==="approveStatus"?(f(),b(B,{key:3},[a(sa,null,{default:s(()=>[c(I(p.approveStatus==1?"\u5F85\u5BA1\u6838":p.approveStatus==2?"\u5BA1\u6838\u4E0D\u901A\u8FC7":p.approveStatus==3?"\u5BA1\u6838\u901A\u8FC7":"\u5F85\u63D0\u4EA4"),1)]),_:2},1024),p.approveStatus==2?(f(),D(oa,{key:0,placement:"top"},{title:s(()=>[r("span",null,I(p.approveReason),1)]),default:s(()=>[a(n(ya))]),_:2},1024)):U("",!0)],64)):U("",!0),l.dataIndex==="edit"?(f(),b("span",tl,[a(ia,{size:"small"},{default:s(()=>[p.approveStatus=="1"||p.approveStatus=="3"?(f(),b("div",nl,[a(P,{onClick:w=>ta(p)},{default:s(()=>[c("\u67E5\u770B")]),_:2},1032,["onClick"]),p.approveStatus=="1"?(f(),D(K,{key:0,type:"vertical",style:{"background-color":"#05C059"}})):U("",!0),p.approveStatus=="1"?(f(),D(P,{key:1,onClick:w=>ce(p.id)},{default:s(()=>[c("\u64A4\u56DE")]),_:2},1032,["onClick"])):U("",!0)])):U("",!0),p.approveStatus=="2"||p.approveStatus=="4"?(f(),b("div",ul,[a(P,{onClick:w=>la(p)},{default:s(()=>[c("\u7F16\u8F91")]),_:2},1032,["onClick"]),a(K,{type:"vertical",style:{"background-color":"#05C059"}}),a(P,{onClick:w=>ve(p)},{default:s(()=>[c("\u5220\u9664")]),_:2},1032,["onClick"])])):U("",!0),a(K,{type:"vertical",style:{"background-color":"#05C059"}}),a(P,{onClick:w=>void 0},{default:s(()=>[c("\u6253\u5370")]),_:2},1032,["onClick"]),a(K,{type:"vertical",style:{"background-color":"#05C059"}}),a(P,{onClick:w=>Ze(p)},{default:s(()=>[c("\u5BFC\u51FA")]),_:2},1032,["onClick"])]),_:2},1024)])):U("",!0)]),_:1},8,["dataSource","pagination"])],512),[[X,_.value=="1"]]),H(r("div",sl,[r("div",ol,[a(Q,{class:"backBox",style:{display:"flex","justify-content":"space-between",width:"100%","margin-bottom":"20px"}},{default:s(()=>[r("div",null,[a(g,{type:"primary",onClick:e[5]||(e[5]=l=>_.value="1")},{default:s(()=>[c("\u8FD4\u56DE\u4E0A\u4E00\u9875")]),_:1})]),r("div",null,[a(g,{type:"primary",onClick:e[6]||(e[6]=l=>ve(z.value)),style:{"margin-right":"20px"}},{default:s(()=>[c("\u5220\u9664")]),_:1}),a(g,{type:"primary",onClick:e[7]||(e[7]=l=>Ge(z.value))},{default:s(()=>[c("\u4FDD\u5B58")]),_:1})])]),_:1}),a(Q,{layout:"inline",ref_key:"refUpdata",ref:de,rules:n(Ye),model:n(t)},{default:s(()=>[a(o,null,{default:s(()=>[c(" \u4E0D\u901A\u8FC7\u539F\u56E0 ")]),_:1}),a(J,{value:n(t).approveReason,"onUpdate:value":e[8]||(e[8]=l=>n(t).approveReason=l),disabled:"",defaultValue:"\u65E0","auto-size":{minRows:2,maxRows:5},style:{"margin-bottom":"20px"}},null,8,["value"]),a(o,{name:"inspectCode"},{default:s(()=>[a(d,{label:"\u8D28\u68C0\u5355\u53F7",placeholder:"\u65E0",disabled:"",value:n(t).inspectCode,"onUpdate:value":e[9]||(e[9]=l=>n(t).inspectCode=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"sampleCode"},{default:s(()=>[a(d,{label:"\u6266\u6837\u5355\u53F7",placeholder:"\u65E0",disabled:"",value:n(t).sampleCode,"onUpdate:value":e[10]||(e[10]=l=>n(t).sampleCode=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"approveStatus"},{default:s(()=>[a(d,{label:"\u5355\u636E\u72B6\u6001",placeholder:"\u65E0",disabled:"",value:n(t).approveStatus,"onUpdate:value":e[11]||(e[11]=l=>n(t).approveStatus=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"",name:"storeName"},{default:s(()=>[a(d,{label:"\u4ED3\u5E93",placeholder:"\u65E0",disabled:"",value:n(t).storeName,"onUpdate:value":e[12]||(e[12]=l=>n(t).storeName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"\u68C0\u9A8C\u65F6\u95F4",name:"inspectDate"},{default:s(()=>[a(ge,{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",valueFormat:"YYYY-MM-DD",style:{width:"22.8vw"},value:n(t).inspectDate,"onUpdate:value":e[13]||(e[13]=l=>n(t).inspectDate=l)},null,8,["value"])]),_:1}),a(o,{name:"inspectUser"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u4EBA",placeholder:"\u65E0",value:n(t).inspectUser,"onUpdate:value":e[14]||(e[14]=l=>n(t).inspectUser=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"",name:"inspectOrganization"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u5355\u4F4D",placeholder:"\u65E0",value:n(t).inspectOrganization,"onUpdate:value":e[15]||(e[15]=l=>n(t).inspectOrganization=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"sampleLevel"},{default:s(()=>[a(M,{label:"\u6837\u54C1\u7B49\u7EA7",placeholder:"\u8BF7\u9009\u62E9",style:{width:"26vw"},value:n(t).sampleLevel,"onUpdate:value":e[16]||(e[16]=l=>n(t).sampleLevel=l),options:Re.value},null,8,["value","options"])]),_:1}),a(o,{name:"storageTime"},{default:s(()=>[a(M,{label:"\u6B63\u5E38\u50A8\u84C4\u5E74\u9650",placeholder:"\u8BF7\u9009\u62E9",style:{width:"26vw"},value:n(t).storageTime,"onUpdate:value":e[17]||(e[17]=l=>n(t).storageTime=l),options:Oe.value},null,8,["value","options"])]),_:1}),a(o,{name:"accordance"},{default:s(()=>[a(M,{label:"\u68C0\u9A8C\u4F9D\u636E",placeholder:"\u8BF7\u9009\u62E9",style:{width:"26vw"},value:n(t).accordance,"onUpdate:value":e[18]||(e[18]=l=>n(t).accordance=l),options:qe.value},null,8,["value","options"])]),_:1}),a(o,{name:"sampleType"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u7C7B\u522B",placeholder:"\u65E0",disabled:"",value:n(t).sampleType,"onUpdate:value":e[19]||(e[19]=l=>n(t).sampleType=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"productName"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u540D\u79F0",placeholder:"\u65E0",disabled:"",value:n(t).productName,"onUpdate:value":e[20]||(e[20]=l=>n(t).productName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"categoryName"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u54C1\u79CD",placeholder:"\u65E0",disabled:"",value:n(t).categoryName,"onUpdate:value":e[21]||(e[21]=l=>n(t).categoryName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"planName"},{default:s(()=>[a(d,{label:"\u8D28\u68C0\u65B9\u6848",placeholder:"\u65E0",disabled:"",value:n(t).planName,"onUpdate:value":e[22]||(e[22]=l=>n(t).planName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"quality"},{default:s(()=>[a(d,{label:"\u4EE3\u8868\u6570\u91CF\uFF08\u5428\uFF09",placeholder:"\u65E0",disabled:"",value:n(t).quality,"onUpdate:value":e[23]||(e[23]=l=>n(t).quality=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"\u751F\u4EA7\u65E5\u671F",name:"produceDate"},{default:s(()=>[a(ge,{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",valueFormat:"YYYY-MM-DD",style:{width:"22.8vw"},value:n(t).produceDate,"onUpdate:value":e[24]||(e[24]=l=>n(t).produceDate=l)},null,8,["value"])]),_:1}),a(o,{name:"sampleWeight"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u91CD\u91CF\uFF08\u5343\u514B\uFF09",placeholder:"\u65E0",value:n(t).sampleWeight,"onUpdate:value":e[25]||(e[25]=l=>n(t).sampleWeight=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"approveUser"},{default:s(()=>[a(d,{label:"\u5BA1\u6838\u4EBA",placeholder:"\u65E0",disabled:"",value:n(t).approveUser,"onUpdate:value":e[26]||(e[26]=l=>n(t).approveUser=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"approveTime"},{default:s(()=>[a(d,{label:"\u5BA1\u6838\u65F6\u95F4",placeholder:"\u65E0",disabled:"",value:n(t).approveTime,"onUpdate:value":e[27]||(e[27]=l=>n(t).approveTime=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(J,{value:n(t).remark,"onUpdate:value":e[28]||(e[28]=l=>n(t).remark=l),defaultValue:"\u65E0","auto-size":{minRows:2,maxRows:5},style:{"margin-bottom":"20px"}},null,8,["value"])]),_:1},8,["rules","model"])]),r("div",null,[a(ae,{scroll:{x:"max-content",y:240},columns:n(Ga),"data-source":k.value,bordered:"",size:"small","row-Selection":re,rowKey:l=>l.key},ga({_:2},[Z(Te,l=>({name:l,fn:s(({column:p,record:w,index:G,text:he,value:Cl})=>[(f(),b("div",{key:l},[w.editable&&De.includes(l)?(f(),D(fe,{key:0,"read-only":Le.includes(l),placeholder:"\u8BF7\u8F93\u5165",value:he,onChange:le=>Ke(le.target.value,l,G)},null,8,["read-only","value","onChange"])):w.editable&&Ne.includes(l)?(f(),D(me,{key:1,placeholder:"\u8BF7\u9009\u62E9",style:{display:"block"},value:he,options:$e.value,onChange:le=>Ae(le,l,G)},null,8,["value","options","onChange"])):(f(),b("span",il,I(k.value[G][l]==null?"\u81EA\u52A8\u5E26\u51FA":k.value[G][l]),1))]))])}))]),1032,["columns","data-source","rowKey"]),r("div",dl,[a(g,{onClick:e[29]||(e[29]=l=>L.open=!0)},{default:s(()=>[a(da),c(" \u9644\u4EF6\u4E0A\u4F20 ")]),_:1}),pl,(f(!0),b(B,null,Z(C.value,(l,p)=>(f(),b("div",rl,[r("div",null,[r("span",null,I(l),1)]),r("div",{style:{"margin-left":"10px"},onClick:w=>Qe(p)},[a(n(ha))],8,vl)]))),256))]),a(ra,{title:"\u4E0A\u4F20",visible:L.open,"onUpdate:visible":e[32]||(e[32]=l=>L.open=l),width:"400px","append-to-body":""},{footer:s(()=>[r("div",fl,[a(g,{type:"primary",onClick:je},{default:s(()=>[c("\u786E \u5B9A")]),_:1}),a(g,{onClick:e[31]||(e[31]=l=>L.open=!1)},{default:s(()=>[c("\u53D6 \u6D88")]),_:1})])]),default:s(()=>[a(pa,{fileList:S.value,"onUpdate:fileList":e[30]||(e[30]=l=>S.value=l),type:"file",accept:"image/png,image/jpeg,image/*,.pdf,.doc,.docx,.xlsx,.xls",name:"file",maxCount:1,disabled:L.isUploading,beforeUpload:"false",drag:""},{default:s(()=>[r("p",cl,[a(n(wa))]),ml]),_:1},8,["fileList","disabled"])]),_:1},8,["visible"])])],512),[[X,_.value=="3"]]),H(r("div",yl,[r("div",gl,[a(Q,{class:"backBox",style:{display:"flex","justify-content":"space-between",width:"100%","margin-bottom":"20px"}},{default:s(()=>[r("div",null,[a(g,{type:"primary",onClick:e[33]||(e[33]=l=>_.value="1")},{default:s(()=>[c("\u8FD4\u56DE\u4E0A\u4E00\u9875")]),_:1})]),r("div",null,[a(g,{type:"primary",onClick:e[34]||(e[34]=l=>ce(z.value)),style:{"margin-right":"20px"}},{default:s(()=>[c("\u64A4\u56DE")]),_:1}),a(g,{type:"primary",onClick:na,style:{"margin-right":"20px"}},{default:s(()=>[c("\u6253\u5370")]),_:1}),a(g,{type:"primary",onClick:e[35]||(e[35]=l=>ea(z.value))},{default:s(()=>[c("\u5BFC\u51FA")]),_:1})])]),_:1}),a(Q,{layout:"inline",model:n(t)},{default:s(()=>[a(J,{value:n(t).approveReason,"onUpdate:value":e[36]||(e[36]=l=>n(t).approveReason=l),disabled:"",defaultValue:"\u65E0","auto-size":{minRows:2,maxRows:5},style:{"margin-bottom":"20px"}},null,8,["value"]),a(o,{name:"inspectCode"},{default:s(()=>[a(d,{label:"\u8D28\u68C0\u5355\u53F7",placeholder:"\u65E0",disabled:"",value:n(t).inspectCode,"onUpdate:value":e[37]||(e[37]=l=>n(t).inspectCode=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"sampleCode"},{default:s(()=>[a(d,{label:"\u6266\u6837\u5355\u53F7",placeholder:"\u65E0",disabled:"",value:n(t).sampleCode,"onUpdate:value":e[38]||(e[38]=l=>n(t).sampleCode=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"approveStatus"},{default:s(()=>[a(d,{label:"\u5355\u636E\u72B6\u6001",placeholder:"\u65E0",disabled:"",value:n(t).approveStatus,"onUpdate:value":e[39]||(e[39]=l=>n(t).approveStatus=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"",name:"sampleType"},{default:s(()=>[a(d,{label:"\u6266\u6837\u7C7B\u578B",placeholder:"\u65E0",disabled:"",value:n(t).sampleType,"onUpdate:value":e[40]||(e[40]=l=>n(t).sampleType=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"",name:"storeName"},{default:s(()=>[a(d,{label:"\u4ED3\u5E93",placeholder:"\u65E0",disabled:"",value:n(t).storeName,"onUpdate:value":e[41]||(e[41]=l=>n(t).storeName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"inspectDate"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u65F6\u95F4",valueFormat:"YYYY-MM-DD",style:{width:"26vw"},disabled:"",value:n(t).inspectDate,"onUpdate:value":e[42]||(e[42]=l=>n(t).inspectDate=l)},null,8,["value"])]),_:1}),a(o,{name:"inspectUser"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u4EBA",placeholder:"\u65E0",disabled:"",value:n(t).inspectUser,"onUpdate:value":e[43]||(e[43]=l=>n(t).inspectUser=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{label:"",name:"inspectOrganization"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u5355\u4F4D",placeholder:"\u65E0",disabled:"",value:n(t).inspectOrganization,"onUpdate:value":e[44]||(e[44]=l=>n(t).inspectOrganization=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"sampleLevel"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u7B49\u7EA7",placeholder:"\u65E0",disabled:"",value:n(t).sampleLevel,"onUpdate:value":e[45]||(e[45]=l=>n(t).sampleLevel=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"storageTime"},{default:s(()=>[a(d,{label:"\u6B63\u5E38\u5B58\u50A8\u5E74\u9650",placeholder:"\u65E0",disabled:"",value:n(t).storageTime,"onUpdate:value":e[46]||(e[46]=l=>n(t).storageTime=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"accordance"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u4F9D\u636E",placeholder:"\u65E0",disabled:"",value:n(t).accordance,"onUpdate:value":e[47]||(e[47]=l=>n(t).accordance=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"sampleType"},{default:s(()=>[a(d,{label:"\u68C0\u9A8C\u7C7B\u522B",placeholder:"\u65E0",disabled:"",value:n(t).sampleType,"onUpdate:value":e[48]||(e[48]=l=>n(t).sampleType=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"productName"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u540D\u79F0",placeholder:"\u65E0",disabled:"",value:n(t).productName,"onUpdate:value":e[49]||(e[49]=l=>n(t).productName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"categoryName"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u54C1\u79CD",placeholder:"\u65E0",disabled:"",value:n(t).categoryName,"onUpdate:value":e[50]||(e[50]=l=>n(t).categoryName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"planName"},{default:s(()=>[a(d,{label:"\u8D28\u68C0\u65B9\u6848",placeholder:"\u65E0",disabled:"",value:n(t).planName,"onUpdate:value":e[51]||(e[51]=l=>n(t).planName=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"quality"},{default:s(()=>[a(d,{label:"\u4EE3\u8868\u6570\u91CF\uFF08\u5428\uFF09",placeholder:"\u65E0",disabled:"",value:n(t).quality,"onUpdate:value":e[52]||(e[52]=l=>n(t).quality=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"produceDate"},{default:s(()=>[a(d,{label:"\u751F\u4EA7\u65E5\u671F",placeholder:"\u65E0",disabled:"",value:n(t).produceDate,"onUpdate:value":e[53]||(e[53]=l=>n(t).produceDate=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"sampleWeight"},{default:s(()=>[a(d,{label:"\u6837\u54C1\u91CD\u91CF\uFF08\u5343\u514B\uFF09",placeholder:"\u65E0",disabled:"",value:n(t).sampleWeight,"onUpdate:value":e[54]||(e[54]=l=>n(t).sampleWeight=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"approveUser"},{default:s(()=>[a(d,{label:"\u5BA1\u6838\u4EBA",placeholder:"\u65E0",disabled:"",value:n(t).approveUser,"onUpdate:value":e[55]||(e[55]=l=>n(t).approveUser=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(o,{name:"approveTime"},{default:s(()=>[a(d,{label:"\u5BA1\u6838\u65F6\u95F4",placeholder:"\u65E0",disabled:"",value:n(t).approveTime,"onUpdate:value":e[56]||(e[56]=l=>n(t).approveTime=l),style:{width:"26vw"}},null,8,["value"])]),_:1}),a(J,{value:n(t).remark,"onUpdate:value":e[57]||(e[57]=l=>n(t).remark=l),defaultValue:"\u65E0",disabled:"","auto-size":{minRows:2,maxRows:5},style:{"margin-bottom":"20px"}},null,8,["value"])]),_:1},8,["model"])]),a(ae,{dataSource:ee.value,columns:n(Ja),"row-selection":re,pagination:!1},{bodyCell:s(({column:l,record:p})=>[]),_:1},8,["dataSource","columns"]),r("div",hl,[wl,(f(!0),b(B,null,Z(C.value,(l,p)=>(f(),b("div",bl,[r("div",null,[r("span",null,I(l),1)]),r("button",{style:{"margin-left":"10px"},onClick:w=>Be(p)},"\u4E0B\u8F7D",8,_l)]))),256))])],512),[[X,_.value=="4"]])],64)}}},Rl=va(kl,[["__scopeId","data-v-a757d306"]]);export{Rl as default};
