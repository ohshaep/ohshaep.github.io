import{u as V,r as s,b as j,o as b,c as q,d as e,w as n,e as g,t as A,f as l,g as o,h as T,i as U,F as E,j as L,m as z,k as G,_ as H,l as J,n as M,p as O,q as P,s as Q,S as W,v as X,x as Y,B as Z,y as ee}from"./index.192c8708.js";const te=l("span",{class:"separate"},"/",-1),ne=l("span",null,"\u7528\u6237\u7BA1\u7406",-1),ae=l("span",{class:"separate"},"/",-1),oe=l("span",null,"\u5206\u914D\u89D2\u8272",-1),se={class:"app-container",style:{width:"100%"}},le=l("h4",{class:"form-header h4"},"\u57FA\u672C\u4FE1\u606F",-1),_e=l("h4",{class:"form-header h4"},"\u89D2\u8272\u4FE1\u606F",-1),ue={style:{"text-align":"center","margin-left":"-120px","margin-top":"30px"}},ce={__name:"authRole",setup(re){const v=V(),c=s(!0),k=s(0);s(1),s(10);const h=s([]),m=s([]),_=s({nickName:void 0,userName:void 0,userId:void 0}),f=s([]),N=a=>{f.value=a,h.value=a};function R(a){return a.roleId}function I(){history.go(-1)}function B(){const a=_.value.userId,t=h.value.join(",");L({userId:a,roleIds:t}).then(u=>{z.success("\u6388\u6743\u6210\u529F"),I()})}function $(){const a=v.params&&v.params.userId;a&&(c.value=!0,G(a).then(t=>{var r;const u=t.data;_.value=u.user,m.value=u.roles,k.value=m.value.length,f.value=(r=u.user.roles)==null?void 0:r.map(d=>d.roleId),c.value=!1}))}return $(),(a,t)=>{const u=H,r=J,d=M,w=O,C=P,x=Q,S=W,p=X,F=Y,y=Z,D=ee,K=j("loading");return b(),q(E,null,[e(u,{title:"\u5206\u914D\u89D2\u8272",icon:"icon-rongqi",back:"/overview"},{nav:n(()=>[g(A("\u7CFB\u7EDF\u7BA1\u7406")+" "),te,ne,ae,oe]),_:1}),e(D,null,{default:n(()=>[l("div",se,[le,e(x,{model:o(_),layout:"inline"},{default:n(()=>[e(C,{style:{width:"100%"}},{default:n(()=>[e(w,{span:8,offset:2},{default:n(()=>[e(d,{name:"nickName"},{default:n(()=>[e(r,{label:"\u7528\u6237\u6635\u79F0",placeholder:"\u8BF7\u8F93\u5165",value:o(_).nickName,"onUpdate:value":t[0]||(t[0]=i=>o(_).nickName=i),disabled:""},null,8,["value"])]),_:1})]),_:1}),e(w,{span:8,offset:2},{default:n(()=>[e(d,{name:"userName"},{default:n(()=>[e(r,{label:"\u767B\u5F55\u8D26\u53F7",placeholder:"\u8BF7\u8F93\u5165",value:o(_).userName,"onUpdate:value":t[1]||(t[1]=i=>o(_).userName=i),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),_e,e(S,{spinning:o(c)},null,8,["spinning"]),T((b(),U(F,{ref:"roleRef",dataSource:o(m),"row-selection":{selectedRowKeys:o(f),onChange:N},"row-key":R},{default:n(()=>[e(p,{title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId"}),e(p,{title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName"}),e(p,{title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey"}),e(p,{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",width:"180"})]),_:1},8,["dataSource","row-selection"])),[[K,o(c)]]),e(x,{"label-width":"100px",style:{"padding-bottom":"30px"}},{default:n(()=>[l("div",ue,[e(y,{type:"primary",onClick:t[2]||(t[2]=i=>B())},{default:n(()=>[g("\u63D0\u4EA4")]),_:1}),e(y,{onClick:t[3]||(t[3]=i=>I()),style:{"margin-left":"21px"}},{default:n(()=>[g("\u8FD4\u56DE")]),_:1})])]),_:1})])]),_:1})],64)}}};export{ce as default};
