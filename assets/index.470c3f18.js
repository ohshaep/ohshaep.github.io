import{aI as T,z as fe,a as me,r as u,A as Q,V as ve,C as ge,o as m,c as C,d as t,w as n,e as r,t as R,f as b,h as ye,D as he,g as o,E as Ce,P as be,Q as I,i as K,F as M,W as ke,G as xe,M as N,m as S,_ as Ie,l as Se,n as Te,a3 as Ue,B as qe,s as we,K as De,b1 as Re,a5 as Ne,L as ze,x as Fe,a6 as Le,aa as $e,ab as Be,N as Oe,O as Ve}from"./index.192c8708.js";function Ae(i){return T({url:"/qualityTarget/list",method:"post",params:i})}function Pe(i){return T({url:"/qualityTarget/add",method:"post",params:i})}function E(i){return T({url:"/qualityTarget/edit",method:"post",params:i})}function Qe(i){return T({url:"/qualityTarget/delete/"+i,method:"post"})}const J=i=>(Oe("data-v-cb7fa8ea"),i=i(),Ve(),i),Ke=J(()=>b("span",{class:"separate"},"/",-1)),Me=J(()=>b("span",null,"\u8D28\u68C0\u6307\u6807",-1)),Ee={class:"app-container"},Je={class:"container-wrapper"},je={key:0},Ge={key:1},We={key:2},Ze={class:"dialog-footer"},He={__name:"index",setup(i){me();const{proxy:k}=xe(),{sys_normal_disable:z}=k.useDict("sys_normal_disable"),F=u([]),p=u(!1),L=u(!0),j=u(!0),$=u([]);u(!0),u(!0),u(0);const U=u(""),G=u([]);u("/basic/supplierMg"),u([]);const W=u([]),Z=[{title:"\u6307\u6807\u7F16\u7801",dataIndex:"targetCode",ellipsis:!0},{title:"\u8D28\u68C0\u6307\u6807",dataIndex:"targetContent",ellipsis:!0},{title:"\u68C0\u9A8C\u4F9D\u636E",dataIndex:"accordance",ellipsis:!0},{title:"\u6807\u51C6",dataIndex:"standard",ellipsis:!0},{title:"\u5355\u4F4D",dataIndex:"unit",ellipsis:!0},{title:"\u6765\u6E90",dataIndex:"resources",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime"},{title:"\u64CD\u4F5C",dataIndex:"operation",fixed:"right",align:"center"}],H=Q({categoryName:"",categoryData:["Zhejiang","Jiangsu"],form:{},queryParams:{offset:0,limit:10,dictName:void 0,dictType:void 0,status:void 0},rules:{targetCode:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],targetContent:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{queryParams:c,form:l,rules:X,categoryName:Xe,categoryData:Ye}=ve(H);function v(){L.value=!0,Ae(k.addDateRange(c.value)).then(a=>{const e=a==null?void 0:a.data;F.value=e.data,y.total=(e==null?void 0:e.row)||0,L.value=!1})}function Y(a){const e=a.id||$.value,_=a.targetContent,w=a.status==1?0:1;N.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:'\u662F\u5426\u786E\u8BA4\u4FEE\u6539"'+_+'"\u7684\u72B6\u6001\uFF1F',onOk(){E({status:w,id:e}).then(()=>{v(),S.success("\u4FEE\u6539\u6210\u529F")}).catch(()=>{})}})}function ee(){p.value=!1,x()}function x(){l.value={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0,ctgLevel1Id:void 0,ctgLevel2Id:void 0},W.value=[],k.resetForm("dictRef")}function q(){y.current=1,c.value.offset=0,v()}function B(){G.value=[],k.resetForm("queryRef"),q()}const O=(a,e,_)=>{y.current=a,_&&(y.pageSize=e,c.value.limit=e),c.value.offset=(a-1)*e,v()},y=Q({current:1,pageSize:10,total:0,showTotal:a=>`\u5171 ${a} \u6761`,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["2","20","50","100"],onChange:(a,e)=>O(a,e),onShowSizeChange:(a,e)=>O(a,e,"sizeChange")});function te(){x(),p.value=!0,U.value="\u6DFB\u52A0"}function ae(a){var e;x(),l.value.id=a.id,U.value="\u4FEE\u6539\u8D28\u68C0\u6307\u6807",l.value.targetCode=a.targetCode,l.value.targetContent=a.targetContent,l.value.accordance=a.accordance,l.value.standard=a.standard,l.value.unit=a.unit,l.value.resources=a.resources,l.value.status=(e=a.status)==null?void 0:e.toString(),p.value=!0}const V=u();async function ne(){try{await V.value.validateFields(),l.value.id!=null?E(l.value).then(a=>{S.success("\u4FEE\u6539\u6210\u529F"),p.value=!1,v()}):Pe(l.value).then(a=>{S.success("\u65B0\u589E\u6210\u529F"),p.value=!1,v()}),x()}catch{}}function le(a){const e=a.id||$.value,_=a.targetCode;N.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:'\u662F\u5426\u786E\u8BA4\u5220\u9664\u6307\u6807\u7F16\u7801\u4E3A"'+_+'"\u7684\u6570\u636E\u9879\uFF1F',onOk(){Qe(e).then(()=>{B(),S.success("\u5220\u9664\u6210\u529F")}).catch(()=>{})}})}return v(),(a,e)=>{const _=Ie,w=Se,d=Te,se=Ue,h=qe,A=we,D=De,oe=ge("router-link"),ue=Re,ie=Ne,de=ze,re=Fe,g=Le,ce=$e,pe=Be,_e=N;return m(),C(M,null,[t(_,{title:"\u8D28\u68C0\u6307\u6807",icon:"icon-xuniziyuan",back:"/overview"},{nav:n(()=>[r(R("\u8D28\u68C0\u6307\u6807")+" "),Ke,Me]),_:1}),b("div",Ee,[b("div",Je,[ye(t(A,{model:o(c),ref:"queryRef",layout:"inline","label-width":"68px"},{default:n(()=>[t(d,{name:"targetContent"},{default:n(()=>[t(w,{label:"\u8D28\u68C0\u6307\u6807",value:o(c).targetContent,"onUpdate:value":e[0]||(e[0]=s=>o(c).targetContent=s),placeholder:"\u8BF7\u8F93\u5165",clearable:"",style:{width:"240px"},onKeyup:Ce(q,["enter"])},null,8,["value"])]),_:1}),t(d,{name:"status"},{default:n(()=>[t(se,{label:"\u72B6\u6001",value:o(c).status,"onUpdate:value":e[1]||(e[1]=s=>o(c).status=s),placeholder:"\u8BF7\u9009\u62E9",clearable:"",style:{width:"240px"},options:o(z)},null,8,["value","options"])]),_:1}),t(d,null,{default:n(()=>[t(h,{type:"primary",onClick:q},{default:n(()=>[r("\u67E5\u8BE2")]),_:1}),t(h,{type:"primary",ghost:"",onClick:B,style:{"margin-left":"15px"}},{default:n(()=>[r("\u91CD\u7F6E")]),_:1})]),_:1}),t(d,{style:{"margin-left":"165px"}},{default:n(()=>[t(h,{type:"primary",onClick:te},{icon:n(()=>[t(o(be))]),default:n(()=>[r(" \u65B0\u589E ")]),_:1})]),_:1})]),_:1},8,["model"]),[[he,j.value]])]),t(re,{dataSource:F.value,columns:Z,pagination:o(y)},{bodyCell:n(({column:s,record:f})=>[s.dataIndex==="dictType"?(m(),C("span",je,[t(oe,{to:"/system/dict-data/index/"+f.dictId,class:"link-type"},{default:n(()=>[t(D,null,{default:n(()=>[r(R(f.dictType),1)]),_:2},1024)]),_:2},1032,["to"])])):I("",!0),s.dataIndex==="status"?(m(),C("span",Ge,[t(ue,{checked:f.status!="1",onClick:P=>Y(f)},null,8,["checked","onClick"])])):I("",!0),s.dataIndex==="operation"?(m(),C("span",We,[t(de,{size:"small"},{default:n(()=>[t(D,{onClick:P=>ae(f)},{default:n(()=>[r("\u7F16\u8F91")]),_:2},1032,["onClick"]),t(ie,{type:"vertical",style:{"background-color":"#05C059"}}),f.roleId!==1?(m(),K(D,{key:0,onClick:P=>le(f)},{default:n(()=>[r("\u5220\u9664")]),_:2},1032,["onClick"])):I("",!0)]),_:2},1024)])):I("",!0)]),_:1},8,["dataSource","pagination"]),t(_e,{title:U.value,visible:p.value,"onUpdate:visible":e[9]||(e[9]=s=>p.value=s),width:"500px","append-to-body":""},{footer:n(()=>[b("div",Ze,[t(h,{type:"primary",onClick:ne},{default:n(()=>[r("\u786E \u5B9A")]),_:1}),t(h,{onClick:ee},{default:n(()=>[r("\u53D6 \u6D88")]),_:1})])]),default:n(()=>[t(A,{ref_key:"dictRef",ref:V,model:o(l),rules:o(X),labelAlign:"left","label-col":{span:5}},{default:n(()=>[t(d,{label:"\u6307\u6807\u7F16\u7801",name:"targetCode"},{default:n(()=>[t(g,{value:o(l).targetCode,"onUpdate:value":e[2]||(e[2]=s=>o(l).targetCode=s),placeholder:"\u8BF7\u8F93\u5165\u6307\u6807\u7F16\u7801"},null,8,["value"])]),_:1}),t(d,{label:"\u8D28\u68C0\u6307\u6807",name:"targetContent"},{default:n(()=>[t(g,{value:o(l).targetContent,"onUpdate:value":e[3]||(e[3]=s=>o(l).targetContent=s),placeholder:"\u8BF7\u8F93\u5165\u8D28\u68C0\u6307\u6807"},null,8,["value"])]),_:1}),t(d,{label:"\u68C0\u9A8C\u4F9D\u636E",name:"accordance"},{default:n(()=>[t(g,{value:o(l).accordance,"onUpdate:value":e[4]||(e[4]=s=>o(l).accordance=s),placeholder:"\u8BF7\u8F93\u5165\u68C0\u9A8C\u4F9D\u636E"},null,8,["value"])]),_:1}),t(d,{label:"\u6807\u51C6",name:"standard"},{default:n(()=>[t(g,{value:o(l).standard,"onUpdate:value":e[5]||(e[5]=s=>o(l).standard=s),placeholder:"\u8BF7\u8F93\u5165\u6807\u51C6"},null,8,["value"])]),_:1}),t(d,{label:"\u5355\u4F4D",name:"unit"},{default:n(()=>[t(g,{value:o(l).unit,"onUpdate:value":e[6]||(e[6]=s=>o(l).unit=s),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D"},null,8,["value"])]),_:1}),t(d,{label:"\u6765\u6E90",name:"resources"},{default:n(()=>[t(g,{value:o(l).resources,"onUpdate:value":e[7]||(e[7]=s=>o(l).resources=s),placeholder:"\u8BF7\u8F93\u5165\u6765\u6E90"},null,8,["value"])]),_:1}),t(d,{label:"\u72B6\u6001",name:"status"},{default:n(()=>[t(pe,{value:o(l).status,"onUpdate:value":e[8]||(e[8]=s=>o(l).status=s)},{default:n(()=>[(m(!0),C(M,null,ke(o(z),s=>(m(),K(ce,{key:s.value,value:s.value},{default:n(()=>[r(R(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])])],64)}}},tt=fe(He,[["__scopeId","data-v-cb7fa8ea"]]);export{tt as default};
