import{aI as P,z as Ce,a as Ne,A as T,r as c,V as Ie,C as Se,b as we,o as i,c as g,d as n,w as t,e as d,t as N,F as V,W as J,g as s,i as b,f as k,h as I,D as Pe,E as $e,P as Re,Q as S,G as De,M as q,m as w,_ as Me,a$ as Ue,b0 as ze,y as Fe,l as Te,n as Ve,a3 as qe,B as Be,s as Le,K as Oe,b1 as Ae,a5 as Qe,L as Ke,x as Ee,a6 as Ge,aa as Je,ab as je,N as We,O as Ze}from"./index.192c8708.js";function He(o){return P({url:"/producePlace/list",method:"post",params:o})}function Xe(o){return P({url:"/producePlace/add",method:"post",params:o})}function j(o){return P({url:"/producePlace/edit",method:"post",params:o})}function Ye(o){return P({url:"/producePlace/delete/"+o,method:"post"})}const W=o=>(We("data-v-81f51f33"),o=o(),Ze(),o),ea=W(()=>k("span",{class:"separate"},"/",-1)),aa=W(()=>k("span",null,"\u4EA7\u5730\u7BA1\u7406",-1)),ta={class:"app-container"},na={class:"container-wrapper"},la={key:0},sa={key:1},oa={key:2},ua={class:"dialog-footer"},ca={__name:"index",setup(o){const Z=Ne(),H=T([{label:"\u5546\u54C1\u5206\u7C7B",value:"/basic/productCate"},{label:"\u4F9B\u5E94\u5546\u5206\u7C7B",value:"/basic/supplierCate"},{label:"\u5408\u4F5C\u5BA2\u6237\u5206\u7C7B",value:"/basic/cooperatorCate"},{label:"\u5546\u54C1\u7BA1\u7406",value:"/basic/productMg"},{label:"\u4F9B\u5E94\u5546\u7BA1\u7406",value:"/basic/supplierMg"},{label:"\u5408\u4F5C\u5BA2\u6237\u7BA1\u7406",value:"/basic/cooperatorMg"},{label:"\u4ED3\u5E93\u7BA1\u7406",value:"/basic/storehouseMg"},{label:"\u4EA7\u5730\u7BA1\u7406",value:"/basic/productPlaceMg"}]),{proxy:x}=De(),{sys_normal_disable:B}=x.useDict("sys_normal_disable"),L=c([]),p=c(!1),O=c(!0),X=c(!0),$=c([]);c(!0),c(!0),c(0);const R=c(""),Y=c([]),D=c("/basic/productPlaceMg"),ee=[{title:"\u7F16\u53F7",dataIndex:"id",ellipsis:!0},{title:"\u4EA7\u5730\u540D\u79F0",dataIndex:"placeName",ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime"},{title:"\u64CD\u4F5C",dataIndex:"operation",fixed:"right",align:"center"}],ae=T({categoryName:"",categoryData:["Zhejiang","Jiangsu"],form:{},queryParams:{offset:0,limit:10,placeName:void 0,dictType:void 0,status:void 0},rules:{placeName:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictType:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{queryParams:r,form:u,rules:te,categoryName:ia,categoryData:da}=Ie(ae);function ne(){Z.push(D.value)}function f(){O.value=!0,He(x.addDateRange(r.value)).then(a=>{const e=a==null?void 0:a.data;L.value=e.data,y.total=(e==null?void 0:e.row)||0,O.value=!1})}function le(a){const e=a.id||$.value,m=a.placeName,U=a.status==1?0:1;q.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:'\u662F\u5426\u786E\u8BA4\u4FEE\u6539"'+m+'"\u7684\u72B6\u6001\uFF1F',onOk(){j({status:U,id:e}).then(()=>{f(),w.success("\u4FEE\u6539\u6210\u529F")}).catch(()=>{})}})}function se(){p.value=!1,C()}function C(){u.value={placeName:void 0,status:"0",remark:void 0},x.resetForm("dictRef")}function M(){y.current=1,r.value.offset=0,f()}function A(){Y.value=[],x.resetForm("queryRef"),M()}const Q=(a,e,m)=>{y.current=a,m&&(y.pageSize=e,r.value.limit=e),r.value.offset=(a-1)*e,f()},y=T({current:1,pageSize:10,total:0,showTotal:a=>`\u5171 ${a} \u6761`,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["2","20","50","100"],onChange:(a,e)=>Q(a,e),onShowSizeChange:(a,e)=>Q(a,e,"sizeChange")});function oe(){C(),p.value=!0,R.value="\u6DFB\u52A0"}function ue(a){C(),a.id||$.value,u.value.id=a.id,R.value="\u4FEE\u6539",u.value.placeName=a.placeName,u.value.status=a.status.toString(),p.value=!0}const K=c();async function ce(){try{await K.value.validateFields(),u.value.id!=null?j(u.value).then(a=>{w.success("\u4FEE\u6539\u6210\u529F"),p.value=!1,f()}):Xe(u.value).then(a=>{w.success("\u65B0\u589E\u6210\u529F"),p.value=!1,f()}),C()}catch{}}function ie(a){const e=a.id||$.value,m=a.placeName;q.confirm({title:"\u64CD\u4F5C\u786E\u8BA4",content:'\u662F\u5426\u786E\u8BA4\u5220\u9664\u540D\u4E3A"'+m+'"\u7684\u6570\u636E\uFF1F',onOk(){Ye(e).then(()=>{A(),w.success("\u5220\u9664\u6210\u529F")}).catch(()=>{})}})}return f(),(a,e)=>{const m=Me,U=Ue,de=ze,re=Fe,_e=Te,v=Ve,pe=qe,h=Be,E=Le,z=Oe,me=Se("router-link"),fe=Ae,ve=Qe,ge=Ke,ye=Ee,he=Ge,be=Je,ke=je,xe=q,F=we("hasPermi");return i(),g(V,null,[n(m,{title:"\u4EA7\u5730\u7BA1\u7406",icon:"icon-xuniziyuan",back:"/overview"},{nav:t(()=>[d(N("\u4EA7\u5730\u7BA1\u7406")+" "),ea,aa]),_:1}),n(re,null,{default:t(()=>[n(de,{defaultValue:"",onChange:ne,value:D.value,"onUpdate:value":e[0]||(e[0]=l=>D.value=l)},{default:t(()=>[(i(!0),g(V,null,J(s(H),(l,_)=>(i(),b(U,{key:_,value:l.value},{default:t(()=>[d(N(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),k("div",ta,[k("div",na,[I(n(E,{model:s(r),ref:"queryRef",layout:"inline","label-width":"68px"},{default:t(()=>[n(v,{name:"placeName"},{default:t(()=>[n(_e,{label:"\u4EA7\u5730\u540D\u79F0",value:s(r).placeName,"onUpdate:value":e[1]||(e[1]=l=>s(r).placeName=l),placeholder:"\u8BF7\u8F93\u5165",clearable:"",style:{width:"240px"},onKeyup:$e(M,["enter"])},null,8,["value"])]),_:1}),n(v,{name:"status"},{default:t(()=>[n(pe,{label:"\u72B6\u6001",value:s(r).status,"onUpdate:value":e[2]||(e[2]=l=>s(r).status=l),placeholder:"\u8BF7\u9009\u62E9",clearable:"",style:{width:"240px"},options:s(B)},null,8,["value","options"])]),_:1}),n(v,null,{default:t(()=>[n(h,{type:"primary",onClick:M},{default:t(()=>[d("\u67E5\u8BE2")]),_:1}),n(h,{type:"primary",ghost:"",onClick:A,style:{"margin-left":"15px"}},{default:t(()=>[d("\u91CD\u7F6E")]),_:1})]),_:1}),n(v,{style:{"margin-left":"165px"}},{default:t(()=>[I((i(),b(h,{type:"primary",onClick:oe},{icon:t(()=>[n(s(Re))]),default:t(()=>[d(" \u65B0\u589E ")]),_:1})),[[F,["system:dict:add"]]])]),_:1})]),_:1},8,["model"]),[[Pe,X.value]])]),n(ye,{dataSource:L.value,columns:ee,pagination:s(y)},{bodyCell:t(({column:l,record:_})=>[l.dataIndex==="dictType"?(i(),g("span",la,[n(me,{to:"/system/dict-data/index/"+_.dictId,class:"link-type"},{default:t(()=>[n(z,null,{default:t(()=>[d(N(_.dictType),1)]),_:2},1024)]),_:2},1032,["to"])])):S("",!0),l.dataIndex==="status"?(i(),g("span",sa,[n(fe,{checked:_.status!="1",onClick:G=>le(_)},null,8,["checked","onClick"])])):S("",!0),l.dataIndex==="operation"?(i(),g("span",oa,[n(ge,{size:"small"},{default:t(()=>[I((i(),b(z,{onClick:G=>ue(_)},{default:t(()=>[d("\u7F16\u8F91")]),_:2},1032,["onClick"])),[[F,["system:dict:edit"]]]),n(ve,{type:"vertical",style:{"background-color":"#05C059"}}),_.roleId!==1?I((i(),b(z,{key:0,onClick:G=>ie(_)},{default:t(()=>[d("\u5220\u9664")]),_:2},1032,["onClick"])),[[F,["system:dict:remove"]]]):S("",!0)]),_:2},1024)])):S("",!0)]),_:1},8,["dataSource","pagination"]),n(xe,{title:R.value,visible:p.value,"onUpdate:visible":e[5]||(e[5]=l=>p.value=l),width:"500px","append-to-body":""},{footer:t(()=>[k("div",ua,[n(h,{type:"primary",onClick:ce},{default:t(()=>[d("\u786E \u5B9A")]),_:1}),n(h,{onClick:se},{default:t(()=>[d("\u53D6 \u6D88")]),_:1})])]),default:t(()=>[n(E,{ref_key:"dictRef",ref:K,model:s(u),rules:s(te),labelAlign:"left","label-col":{span:5}},{default:t(()=>[n(v,{label:"\u4EA7\u5730",name:"placeName"},{default:t(()=>[n(he,{value:s(u).placeName,"onUpdate:value":e[3]||(e[3]=l=>s(u).placeName=l),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u5730\u540D"},null,8,["value"])]),_:1}),n(v,{label:"\u72B6\u6001",name:"status"},{default:t(()=>[n(ke,{value:s(u).status,"onUpdate:value":e[4]||(e[4]=l=>s(u).status=l)},{default:t(()=>[(i(!0),g(V,null,J(s(B),l=>(i(),b(be,{key:l.value,value:l.value},{default:t(()=>[d(N(l.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])])],64)}}},_a=Ce(ca,[["__scopeId","data-v-81f51f33"]]);export{_a as default};
