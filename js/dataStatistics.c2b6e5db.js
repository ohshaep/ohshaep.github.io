(window.webpackJsonp=window.webpackJsonp||[]).push([["dataStatistics"],{"0913":function(t,e,i){"use strict";i.r(e);var a=i("2877"),n=Object(a.a)({},(function(){return(0,this._self._c)("div",[this._v("运营商统计")])}),[],!1,null,null,null);e.default=n.exports},"0adb":function(t,e,i){"use strict";i.r(e);var a=i("2877"),n=Object(a.a)({},(function(){return(0,this._self._c)("div",[this._v("资产画像")])}),[],!1,null,null,null);e.default=n.exports},"50c4a":function(t,e,i){},"60a8":function(t,e,i){"use strict";i.r(e);var a=i("2877"),n=Object(a.a)({},(function(){return(0,this._self._c)("div",[this._v("巡检统计")])}),[],!1,null,null,null);e.default=n.exports},"8a7a":function(t,e,i){"use strict";i("50c4a")},d1a2:function(t,e,i){"use strict";i.r(e);var a=i("2877"),n=Object(a.a)({},(function(){return(0,this._self._c)("div",[this._v("工单统计")])}),[],!1,null,null,null);e.default=n.exports},d29f:function(t,e,i){"use strict";i.r(e);var a=i("c7eb"),n=i("1da1"),l=i("b85c"),r=(i("99af"),i("cb29"),i("a15b"),i("d81d"),i("14d9"),i("b0c0"),i("313e")),o=i("ec1b"),s={components:{countTo:i.n(o).a},data:function(){return{endVal:74823}}},c=i("2877"),d=Object(c.a)(s,(function(){var t=this._self._c;return t("page-main",{attrs:{title:"资源指标"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("div",{staticStyle:{height:"100px"}},[t("div",{staticStyle:{"margin-left":"20px","font-size":"24px","text-align":"center"}},[this._v("管道数量")]),t("p",{staticClass:"digital-7_mono"},[t("countTo",{attrs:{"star-val":0,"end-val":this.endVal,duration:2e3}})],1)])]),t("el-col",{attrs:{span:6}},[t("div",{staticStyle:{height:"100px"}},[t("div",{staticStyle:{"margin-left":"20px","font-size":"24px","text-align":"center"}},[this._v("总管程公里数(km)")]),t("p",{staticClass:"digital-7_mono"},[t("countTo",{attrs:{"star-val":0,"end-val":9475238,duration:2e3}})],1)])]),t("el-col",{attrs:{span:6}},[t("div",{staticStyle:{height:"100px"}},[t("div",{staticStyle:{"margin-left":"20px","font-size":"24px","text-align":"center"}},[this._v("当月新增总管程公里数(km)")]),t("p",{staticClass:"digital-7_mono"},[t("countTo",{attrs:{"star-val":0,"end-val":601453,duration:2e3}})],1)])]),t("el-col",{attrs:{span:6}},[t("div",{staticStyle:{height:"100px"}},[t("div",{staticStyle:{"margin-left":"20px","font-size":"24px","text-align":"center"}},[this._v("本周新增总管程公里数(km)")]),t("p",{staticClass:"digital-7_mono"},[t("countTo",{attrs:{"star-val":0,"end-val":743282,duration:2e3}})],1)])])],1)],1)}),[],!1,null,null,null).exports,p=i("f7fe"),g=i.n(p),h=i("365c"),f={name:"DataSataisIndex",components:{resourceKpiVue:d},data:function(){return{timeRanges:null,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},patrolRanking:[{value:100,name:"黄飞鸿"},{value:54,name:"李四"},{value:29,name:"黄飞鸿"},{value:25,name:"李小龙"},{value:45,name:"黎明"},{value:29,name:"张学友"}],WorkOrderTOtalchart:null,PatrolRanchart:null,WellRatiochart:null,wellCategorychart:null,inspectionIdChart:null,initInspectionProgchart:null,observer:null,inspectionRefYearTime:null,labelData:[],dedicatedData:[]}},computed:{},watch:{},created:function(){},mounted:function(){this.initPatrolRan(),this.initWellRatioEchart(),this.initwellCategoryEchart(),this.initWorkOrderTOtalEchart(),this.initinspectionEchart(),this.initInspectionProgEChart(),this.getPageTotalData(),this.startlisten()},beforeDestroy:function(){this.observer.disconnect()},methods:{initPatrolRan:function(){var t=this;this.PatrolRanchart=r.init(document.getElementById("patrolRangId"));var e=new Array(this.patrolRanking.length).fill(100),i={backgroundColor:"#fff",grid:{left:100,right:0,bottom:0,top:0,containLabel:!0},tooltip:{trigger:"item",axisPointer:{type:"none"},formatter:function(t){return t[0].name+" : "+t[0].value}},xAxis:{show:!1,type:"value"},yAxis:[{type:"category",inverse:!0,axisLabel:{show:!0,align:"right",textStyle:{fontSize:14,color:"#333",rich:{index:{color:"#9d9d9d",fontWeight:"bold",fontStyle:"italic"},index1:{color:"#f8777b",fontWeight:"bold",fontStyle:"italic"},index2:{color:"#ffa145",fontWeight:"bold",fontStyle:"italic"},index3:{color:"#6ade8d",fontWeight:"bold",fontStyle:"italic"},name:{width:98,align:"left",textAlign:"left"}}},formatter:function(e){var i=t.patrolRanking.map((function(t){return t.name})).indexOf(e)+1;return["{"+(i>3?"index":"index"+i)+"|"+i+"}","{name|"+e+"}"].join(" ")}},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},data:this.patrolRanking.map((function(t){return t.name}))},{type:"category",inverse:!0,axisTick:"none",axisLine:"none",show:!0,axisLabel:{textStyle:{color:"#3196fa",fontSize:"12"},formatter:"{value}"},data:this.patrolRanking.map((function(t){return t.value}))}],series:[{name:"值",type:"bar",zlevel:1,itemStyle:{normal:{barBorderRadius:30,color:"#3196fa"}},barWidth:20,data:this.patrolRanking},{name:"背景",type:"bar",barWidth:20,barGap:"-100%",data:e,itemStyle:{normal:{color:"#ededed",barBorderRadius:30}}}]};this.PatrolRanchart.setOption(i)},initWellRatioEchart:function(){this.WellRatiochart=r.init(document.getElementById("wellRatioId"));this.WellRatiochart.setOption({title:{text:"井占比",x:"left"},color:["#0092da","#f6ab41","#264df4","#0fac03","#0018aa","#e63168","#8b21e4"],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"井占比",type:"pie",radius:"85%",center:["50%","50%"],label:{normal:{formatter:"{b} :\n {per|{c}} {per|({d}%)}",rich:{per:{color:"#333",fontSize:14,padding:[5,3,5,0],align:"left"}}}},data:[{value:335,name:"市政井"},{value:500,name:"雪亮井"}]}]})},initwellCategoryEchart:function(){this.wellCategorychart=r.init(document.getElementById("wellCategoryId"));this.wellCategorychart.setOption({title:{text:"雪亮工程",x:"left"},color:["#0092da","#e63168","#8b21e4","#0fac03","#f6ab41","#264df4","#0018aa"],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"井占比",type:"pie",radius:"85%",center:["50%","50%"],label:{normal:{formatter:"{b} :\n {per|{c}} {per|({d}%)}",rich:{per:{color:"#333",fontSize:14,padding:[5,3,5,0],align:"left"}}}},data:[{value:335,name:"市政井"},{value:500,name:"雪亮井"}]}]})},initWorkOrderTOtalEchart:function(){this.WorkOrderTOtalchart=r.init(this.$refs.workOrderTOtalRef);for(var t=function(){for(var t=[],e=1;e<12;e++)t.push(e+"月");return t}(),e=["#1a9bfc","#99da69","#e32f46","#7049f0","#fa704d"],i=["采集工单","维护工单","运营工单","抢修工单","迁改工单"],a=[[13.7,3.4,13.5,16.1,7.4,15.2],[17.4,13.7,13.5,3.4,15.2,13.5],[13.4,7.4,13.7,13.5,16.1,13.7],[3.5,15.2,16.1,17.4,13.4,6.1],[16.1,13.5,3.7,17.4,15.2,18.9]],n=[],l=0;l<a.length;l++)n.push({name:i[l],type:"line",symbolSize:8,symbol:"circle",itemStyle:{normal:{color:e[l],lineStyle:{width:1,type:"solid"},barBorderRadius:0,label:{show:!1}}},data:a[l]});var o={backgroundColor:"#fff",legend:{top:20,textStyle:{color:"#333",fontSize:"12"},data:i,selected:{}},toolbox:{itemSize:10,itemGap:8,feature:{saveAsImage:{show:!0},dataZoom:{show:!0},magicType:{type:["bar"]},restore:{show:!0},dataView:{show:!0,readOnly:!1}}},tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:"{b}<br />{a0}: {c0}%<br />{a1}: {c1}%<br />{a2}: {c2}%<br />{a3}: {c3}%<br />{a4}: {c4}%<br />",backgroundColor:"rgba(0,0,0,0.7)",padding:[8,10],extraCssText:"box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);"},grid:{borderWidth:0,top:110,bottom:95,textStyle:{color:"#fff"}},xAxis:[{type:"category",axisLine:{lineStyle:{color:"#eee"}},splitLine:{show:!0,lineStyle:{color:"#eee "}},axisTick:{show:!1},splitArea:{show:!1},axisLabel:{inside:!1,textStyle:{color:"#333",fontWeight:"normal",fontSize:"12"}},data:t}],yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},splitLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#333",fontWeight:"normal",fontSize:"12"},formatter:"{value}%"}},series:n};this.WorkOrderTOtalchart.setOption(o)},initinspectionEchart:function(){this.inspectionIdChart=r.init(this.$refs.inspectionRef);var t=["巡检次数"],e={backgroundColor:"#fff",grid:{top:"20%",right:"0%",left:"0%",bottom:"0%",containLabel:!0},tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:16},formatter:function(t){var e,i="".concat(t[0].name,"\n              <br/>"),a=Object(l.a)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;i+="".concat(n.marker,"\n              ").concat(n.seriesName,"\n                :\n              ").concat(n.value,"\n              <br/>")}}catch(t){a.e(t)}finally{a.f()}return i}},legend:{show:!1,itemWidth:16,top:"0px",left:"center",data:t,textStyle:{color:"RGB(193,223,255)"}},xAxis:[{type:"category",color:"#59588D",data:this.labelData,axisLabel:{margin:20,color:"#5b657f",textStyle:{fontSize:18}},axisLine:{lineStyle:{color:"#08175b"}},axisTick:{show:!0,lineStyle:{color:"#283352"}}}],yAxis:[{min:0,axisLabel:{color:"#5b657f",textStyle:{fontSize:18}},axisLine:{lineStyle:{color:"#283352"}},axisTick:{show:!1},splitLine:{lineStyle:{color:"#283352",type:"dashed"}}}],series:[{name:t[0],type:"bar",data:this.dedicatedData,barWidth:"17px",itemStyle:{normal:{color:"#397cf9",barBorderRadius:[0,0,0,0]}},label:{show:!0,position:"top",formatter:"{c}",textStyle:{color:"black",fontSize:10}}}]};this.inspectionIdChart.setOption(e)},initInspectionProgEChart:function(){this.initInspectionProgchart=r.init(this.$refs.inspectionProgRef);this.initInspectionProgchart.setOption({title:{text:"巡检总数\n589",left:"center",top:"center"},tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},color:["#1085df","#e1e1e1"],series:[{type:"pie",label:{position:"outer",alignTo:"edge",normal:{formatter:function(t){return"{b|"+t.name+"}\n\n{a|"+t.percent+"%}"},rich:{a:{color:"#1192f5",padding:[0,-55,0,-55]},b:{color:"black",padding:[5,-70,5,-70]}},textStyle:{color:"#595959",fontSize:14}}},labelLine:{normal:{length:5,length2:120}},data:[{value:335,name:"已完成巡检"},{value:234,name:"未完成巡检"}],radius:["40%","70%"]}]})},startlisten:function(){var t=this.$refs.ChartPage;this.observer=new ResizeObserver(g()(this.windowResizeHandler,10)),this.observer.observe(t,{width:!0,height:!0})},windowResizeHandler:function(){var t=this;this.$nextTick((function(){t.WorkOrderTOtalchart.resize(),t.PatrolRanchart.resize(),t.WellRatiochart.resize(),t.inspectionIdChart.resize(),t.initInspectionProgchart.resize()}))},getPageTotalData:function(){this.getInspectionRanking(),this.getInspectionStatistics()},getInspectionRanking:function(){var t=this;return Object(n.a)(Object(a.a)().mark((function e(){var i,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.oc)({startTime:null===(i=t.timeRanges)||void 0===i?void 0:i[0],endTime:null===(n=t.timeRanges)||void 0===n?void 0:n[1]});case 2:e.sent;case 4:case"end":return e.stop()}}),e)})))()},changeTartYear:function(){var t,e;this.getInspectionRanking({startTime:null===(t=this.timeRanges)||void 0===t?void 0:t[0],endTime:null===(e=this.timeRanges)||void 0===e?void 0:e[1]})},getInspectionStatistics:function(t){var e=this;return Object(n.a)(Object(a.a)().mark((function i(){var n,l;return Object(a.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t||(e.inspectionRefYearTime=e.$dayjs().format("YYYY")),i.prev=1,i.next=4,Object(h.nc)({year:e.inspectionRefYearTime});case 4:n=i.sent,l=n.data.checkMouth,e.labelData=l.map((function(t){return t.checkTime})),e.dedicatedData=l.map((function(t){return t.wellIdTotalCount})),e.dedicatedData.length<=0&&e.$message.success("当前选择年份巡检总览统计数据为空，请重新选择年份"),e.initinspectionEchart(),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(1);case 15:case"end":return i.stop()}}),i,null,[[1,12]])})))()}}},v=(i("8a7a"),Object(c.a)(f,(function(){var t=this,e=t._self._c;return e("div",{ref:"ChartPage"},[e("resourceKpiVue"),e("el-row",{staticStyle:{margin:"0 10px"},attrs:{gutter:20}},[e("el-col",{attrs:{md:12}},[e("page-main",{staticStyle:{margin:"0 0","font-weight":"700"},attrs:{title:"工单统计"}},[e("div",{ref:"workOrderTOtalRef",staticStyle:{height:"400px",width:"100%"},attrs:{id:"workOrderTOtalId"}})])],1),e("el-col",{attrs:{md:6}},[e("page-main",{staticStyle:{margin:"0 0","padding-bottom":"0"},attrs:{title:"工单总数"}},[e("div",{ref:"workOrderListRef",staticStyle:{width:"100%",height:"400px"},attrs:{id:"workOrderList"}},[e("p",{staticClass:"digital-7_mono workfont",staticStyle:{"line-height":"0px"}},[t._v("9475238")]),e("div",{staticClass:"list-item orange"},[e("div",[t._v("待指派")]),e("div",[t._v("0")])]),e("div",{staticClass:"list-item green"},[e("div",[t._v("执行中")]),e("div",[t._v("67678")])]),e("div",{staticClass:"list-item blue"},[e("div",[t._v("待改派")]),e("div",[t._v("289")])]),e("div",{staticClass:"list-item gray"},[e("div",[t._v("已完成")]),e("div",[t._v("2832")])])])])],1),e("el-col",{attrs:{md:6}},[e("page-main",{staticStyle:{margin:"0 0","font-weight":"700"},attrs:{title:"巡检排行板"}},[e("div",{staticClass:"patrol-data-picker"},[e("el-date-picker",{style:{width:"".concat(t.$store.state.settings.sidebarCollapse?350:320,"px")},attrs:{type:"daterange",align:"right","unlink-panels":"","start-placeholder":"开始日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.changeTartYear},model:{value:t.timeRanges,callback:function(e){t.timeRanges=e},expression:"timeRanges"}})],1),e("div",{ref:"patrolRangRef",staticStyle:{width:"100%",height:"400px"},attrs:{id:"patrolRangId"}})])],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{md:6}},[e("page-main",{staticStyle:{"padding-right":"0","margin-right":"0"},attrs:{title:"井审核统计"}},[e("div",{staticStyle:{height:"200px"}},[e("div",{staticClass:"count-item"},[e("div",[t._v("采集待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("编辑待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("删除待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])])])])],1),e("el-col",{attrs:{md:6}},[e("page-main",{staticStyle:{"padding-right":"0","margin-left":"0","margin-right":"0"},attrs:{title:"管道审核统计"}},[e("div",{staticStyle:{height:"200px"}},[e("div",{staticClass:"count-item"},[e("div",[t._v("采集待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("编辑待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("删除待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])])])])],1),e("el-col",{attrs:{md:6}},[e("page-main",{staticStyle:{"padding-right":"0","margin-left":"0","margin-right":"0"},attrs:{title:"线缆审核统计"}},[e("div",{staticStyle:{height:"200px"}},[e("div",{staticClass:"count-item"},[e("div",[t._v("采集待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("编辑待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("删除待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])])])])],1),e("el-col",{attrs:{md:6}},[e("page-main",{staticStyle:{"padding-right":"0","margin-left":"0"},attrs:{title:"设备审核统计"}},[e("div",{staticStyle:{height:"200px"}},[e("div",{staticClass:"count-item"},[e("div",[t._v("采集待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("编辑待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])]),e("div",{staticClass:"count-item"},[e("div",[t._v("删除待审核")]),e("div",{staticClass:"digital-7_mono"},[t._v("45")])])])])],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{md:12}},[e("page-main",{staticStyle:{"margin-right":"0"},attrs:{title:"各个井类占比"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",height:"200px"}},[e("div",{staticStyle:{width:"100%",height:"200px"},attrs:{id:"wellRatioId"}}),e("div",{staticStyle:{width:"100%",height:"200px"},attrs:{id:"wellCategoryId"}})])])],1),e("el-col",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{md:6}},[e("page-main",{staticStyle:{"margin-left":"10px"},attrs:{title:"井统计"}},[e("div",{staticStyle:{height:"200px",width:"100%","padding-left":"30px"}},[e("div",{staticStyle:{"font-size":"26px"}},[t._v("井总数")]),e("div",{staticClass:"digital-7_mono",staticStyle:{"font-size":"56px",color:"#1485df","text-align":"left",margin:"10px 30px 30px 50px"}},[t._v(" 162662 ")]),e("div",{staticStyle:{"font-size":"24px","font-weight":"normal"}},[e("span",[t._v("密码井数量  ")]),e("span",{staticClass:"digital-7_mono",staticStyle:{color:"#409eff"}},[t._v("5000")])]),e("div",{staticStyle:{"font-size":"24px","font-weight":"normal"}},[e("span",[t._v("常规井数量  ")]),e("span",{staticClass:"digital-7_mono",staticStyle:{color:"#409eff"}},[t._v("5000")])])])])],1),e("el-col",{staticStyle:{"padding-left":"0"},attrs:{md:6}},[e("page-main",{staticStyle:{"margin-left":"0"},attrs:{title:"井资源连接统计"}},[e("div",{staticStyle:{height:"200px",width:"100%","padding-top":"40px"}},[e("div",{staticClass:"count-total"},[e("div",{staticClass:"text digital-7_mono",staticStyle:{color:"red"}},[t._v("未连接管道井数量")]),e("div",{staticClass:"number digital-7_mono"},[t._v("13454")])]),e("div",{staticClass:"count-total"},[e("div",{staticClass:"text digital-7_mono",staticStyle:{color:"seagreen"}},[t._v("已完成管道井数量")]),e("div",{staticClass:"number digital-7_mono"},[t._v("13454")])])])])],1)],1),e("el-row",[e("el-col",{attrs:{md:16}},[e("page-main",{staticStyle:{"padding-top":"0"},attrs:{title:"巡检总览统计"}},[e("div",{staticStyle:{position:"absolute",top:"5px",right:"10px"}},[e("el-date-picker",{attrs:{type:"year",placeholder:"选择年",format:"yyyy 年","value-format":"yyyy"},on:{change:t.getInspectionStatistics},model:{value:t.inspectionRefYearTime,callback:function(e){t.inspectionRefYearTime=e},expression:"inspectionRefYearTime"}})],1),e("div",{ref:"inspectionRef",staticStyle:{width:"100%",height:"300px"},attrs:{id:"inspectionId"}})])],1),e("el-col",{attrs:{md:8}},[e("page-main",{staticStyle:{"margin-left":"0","padding-top":"0"},attrs:{title:"巡检完成度"}},[e("div",{ref:"inspectionProgRef",staticStyle:{width:"100%",height:"300px"},attrs:{id:"inspectionProgId"}})])],1)],1)],1)}),[],!1,null,"071c5d1b",null));e.default=v.exports},f96b:function(t,e,i){"use strict";i.r(e);var a=i("2877"),n=Object(a.a)({},(function(){return(0,this._self._c)("div",[this._v("服务商统计")])}),[],!1,null,null,null);e.default=n.exports}}]);