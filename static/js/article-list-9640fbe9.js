import{_ as R,A as n,K as F,H,c,b as e,a,e as r,l as _,F as m,u as S,av as V,aw as $,E as j,r as K,o,d as k,f as E,t as B,j as M,q as G,p as J,s as O}from"./index-1220b33e.js";import{E as Q}from"./el-image-viewer-fecf4343.js";import{E as U}from"./el-skeleton-item-1854ac38.js";import{_ as W}from"./index-ec942f66.js";import{_ as u}from"./skeleton-item-48cd41e2.js";import{T as L}from"./index-bdbc7f5a.js";import{P as X}from"./pagination-cabc0101.js";import"./el-dropdown-f7136a8d.js";import"./el-scrollbar-0ecdf6c2.js";import"./castArray-b4637930.js";import"./el-select-95db197b.js";import"./strings-25c00305.js";import"./hasIn-f24ed2b0.js";const Y={class:"center_box"},Z={class:"flex_r_between"},ee={class:"flex_r_between skeleton-item"},te={class:"article-list__head flex_r_between flex-wrap"},ae={class:"article-list__head-type"},se={class:"article-list__head-total"},oe={class:"article-img scale"},le={class:"article-title"},re={__name:"article-list",setup(ie){const h=S(),f=n([]),d=n(null),p=n(null),i=n(!1);let l=F({current:1,size:4,id:""}),v=n(0),z="prev, pager, next";const C=t=>{l.current=t.current,y()},I=t=>{h.push({path:"/article",query:{id:t}})},y=async()=>{let t;i.value=!0,d.value=="tag"?t=await V(l):t=await $(l),t.code==0&&(f.value=t.result.list,v.value=t.result.total,i.value=!1)};return H(()=>{const{id:t,type:w,name:g}=h.currentRoute.value.query;l.id=t,d.value=w,p.value=g,y()}),(t,w)=>{const g=W,b=U,A=G,D=Q,x=j,P=J,T=O,q=K("image");return o(),c(m,null,[e(g,{loading:i.value},null,8,["loading"]),a("div",Y,[e(x,{class:"article-list"},{default:r(()=>[i.value?(o(),k(b,{key:0,loading:i.value,animated:""},{template:r(()=>[a("div",Z,[e(u,{variant:"text",width:"10rem",height:"4rem"}),e(u,{variant:"text",width:"8rem",height:"2rem"})]),a("div",ee,[(o(),c(m,null,E(4,s=>a("div",{key:s},[e(u,{variant:"image",width:"15rem",height:"6rem"}),e(u,{variant:"text",width:"12rem",top:"1rem",height:"20px"}),e(u,{variant:"text",width:"14rem",top:"1.5rem",height:"15px"})])),64))])]),_:1},8,["loading"])):(o(),c(m,{key:1},[a("div",te,[a("div",ae,B(d.value=="tag"?"标签 - "+p.value:"分类 - "+p.value),1),a("div",se,"文章总数："+B(_(v)),1)]),e(T,null,{default:r(()=>[(o(!0),c(m,null,E(f.value,(s,N)=>(o(),k(P,{xs:12,sm:8,md:6,key:N},{default:r(()=>[e(x,{class:"gradient card-hover",onClick:ne=>I(s.id)},{default:r(()=>[M((o(),c("div",oe,[e(D,{class:"w-[100%] h-[100%] scale animate__animated animate__fadeInDown",fit:"cover",src:s.article_cover},{error:r(()=>[e(A,{name:"image404",width:8,height:8})]),_:2},1032,["src"])])),[[q,s.article_cover]]),a("div",le,[e(L,{name:s.article_title,size:"1.2rem",color:"#676767"},null,8,["name"]),e(L,{name:s.createdAt,size:"1rem",color:"#676767"},null,8,["name"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})],64))]),_:1}),e(X,{size:_(l).size,current:_(l).current,layout:_(z),total:_(v),onPagination:C},null,8,["size","current","layout","total"])])],64)}}},ke=R(re,[["__scopeId","data-v-f5f37408"]]);export{ke as default};
